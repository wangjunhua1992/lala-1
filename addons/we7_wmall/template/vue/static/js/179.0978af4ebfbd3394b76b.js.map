{"version":3,"sources":["webpack:///src/pages/gohome/home/index.vue","webpack:///./src/pages/gohome/home/index.vue?98da","webpack:///./src/pages/gohome/home/index.vue"],"names":["home","data","getLocationFail","showPreLoading","is_use_diy","diydata","diy","popup","storeSearch","serviceQrcode","tongcheng","has_get_all","page","psize","loading","loaded","finished","empty","guideData","is_show","config","menufooter","showFixedSearchBar","follow","components","PublicFooter","footer","methods","extends_default","Object","vuex_esm","onToggleDiscount","key","diyindex","this","items","id","stores","onToggleInformation","index","showall","onCloseGuide","onToggleService","onLoad","_this","that","util","request","url","lat","locationInfo","location_x","lng","location_y","then","res","result","message","errno","$toast","setWXTitle","title","cart_sum","guide","params","status","show_setting","guideStorage","getStorage","show","setStorage","interval_time","removeStorage","default_location","setLocation","informationdata","concat","toConsumableArray_default","length","window","is_show_kefu","imeiqia","onGetCartNums","_this2","onGetInformation","force","_this3","informations","onInit","getLocation","last_location_x","successLocation","successAddress","address","fail","created","activated","is_show_cart","computed","mounted","addEventListener","scrollTop","pageYOffset","document","documentElement","body","gohome_home","render","_vm","_h","$createElement","_c","_self","attrs","_e","_v","preLoading","staticClass","on","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"0NAyBAA,GACAC,KADA,WAEA,OACAC,iBAAA,EACAC,gBAAA,EACAC,WAAA,EACAC,SACAC,KACAL,SAEAM,OACAC,aAAA,EACAC,eAAA,GAEAC,WACAC,YAAA,EACAC,KAAA,EACAC,MAAA,GACAC,SAAA,EACAC,QAAA,EACAC,UAAA,EACAC,OAAA,EACAhB,SAEAiB,WACAC,SAAA,GAEAC,WAEAC,cACAC,oBAAA,EACAC,YAGAC,YACAC,aAAAC,EAAA,EACApB,MAAA,EACAiB,SAAA,GAEAI,QAAAC,OACAC,OAAAC,EAAA,EAAAD,EACA,+BAEAE,iBAJA,SAIAC,EAAAC,GAEA,iBADAC,KAAA7B,QAAAC,IAAAL,KAAAkC,MAAAF,GACAG,GACAF,KAAA7B,QAAAC,IAAAL,KAAAkC,MAAAF,GAAAhC,KAAA+B,GAAA,sBAAAE,KAAA7B,QAAAC,IAAAL,KAAAkC,MAAAF,GAAAhC,KAAA+B,GAAA,qBAEAE,KAAA7B,QAAAgC,OAAApC,KAAA+B,GAAA,sBAAAE,KAAA7B,QAAAgC,OAAApC,KAAA+B,GAAA,sBAIAM,oBAbA,SAaAC,GACAL,KAAA7B,QAAAK,UAAAT,KAAAsC,GAAAC,SAAAN,KAAA7B,QAAAK,UAAAT,KAAAsC,GAAAC,SAGAC,aAjBA,WAkBAP,KAAA7B,QAAAa,UAAAC,SAAA,GAGAuB,gBArBA,WAsBAR,KACA7B,QAAAE,MAAAE,eADAyB,KACA7B,QAAAE,MAAAE,eAGAkC,OA1BA,WA0BA,IAAAC,EAAAV,KACAW,EAAAX,KACAA,KAAAY,KAAAC,SACAC,IAAA,oBACA/C,MACAgD,IAAAf,KAAAgB,aAAAC,WACAC,IAAAlB,KAAAgB,aAAAG,WACAhC,WAAA,KAEAiC,KAAA,SAAAC,GACAV,EAAA1C,gBAAA,EACA,IAAAqD,EAAAD,EAAAtD,KAAAwD,QACA,GAAAD,EAAAE,MACAd,EAAAe,OAAAH,EAAAC,aADA,CASA,GALAZ,EAAAxC,QAAAC,IAAAkD,EAAAC,QAAAnD,IACAuC,EAAAxC,QAAAe,OAAAoC,EAAAC,QAAArC,OACAyB,EAAAC,KAAAc,WAAAf,EAAAxC,QAAAC,IAAAL,KAAAW,KAAAiD,OACAhB,EAAAxC,QAAAyD,SAAAN,EAAAC,QAAAK,SAEAjB,EAAAxC,QAAAC,IAAAyD,MACA,MAAAlB,EAAAxC,QAAAC,IAAAyD,MAAAC,OAAAC,QAAA,YAAApB,EAAAxC,QAAAC,IAAAyD,MAAAC,OAAAE,aAAA,CACA,IAAAC,EAAAvB,EAAAE,KAAAsB,WAAA,kBACAD,SAAAE,QACAzB,EAAAE,KAAAwB,WAAA,gBAAAD,KAAA,MAAAxB,EAAAxC,QAAAC,IAAAyD,MAAAC,OAAAO,eACA1B,EAAAxC,QAAAa,UAAAC,SAAA,QAEA,GAAA0B,EAAAxC,QAAAC,IAAAyD,MAAAC,OAAAC,QAAA,aAAApB,EAAAxC,QAAAC,IAAAyD,MAAAC,OAAAE,eACAtB,EAAAE,KAAA0B,cAAA,gBACA3B,EAAAxC,QAAAa,UAAAC,SAAA,GAIA,IAAAsD,EAAA5B,EAAAxC,QAAAe,OAAAqD,iBACAA,KAAAtB,aACAP,EAAA1C,iBAAA,EACA2C,EAAA6B,YAAAD,IAEAjB,EAAAC,QAAAnD,IAAAI,WAAA8C,EAAAC,QAAAnD,IAAAI,UAAAiE,kBACA9B,EAAAxC,QAAAK,UAAAT,QAAA2E,OAAAC,IAAArB,EAAAC,QAAAnD,IAAAI,UAAAiE,kBACA,GAAA9B,EAAAxC,QAAAK,UAAAT,KAAA6E,SACAjC,EAAAxC,QAAAK,UAAAO,OAAA,GAEA4B,EAAAxC,QAAAK,UAAAI,SAAA,EACA+B,EAAAxC,QAAAK,UAAAC,YAAAkC,EAAAxC,QAAAC,IAAAI,UAAAC,mBACAkC,EAAAxC,QAAAC,IAAA,UACA,GAAAuC,EAAAxC,QAAAK,UAAAC,cACAkC,EAAAxC,QAAAK,UAAAM,UAAA,EACA6B,EAAAxC,QAAAK,UAAAK,QAAA,IAIA8B,EAAAxB,WAAA0D,OAAA1D,WACA,GAAAwB,EAAAxC,QAAAC,IAAA0E,cACAnC,EAAAC,KAAAmC,cAKAC,cAtFA,WAsFA,IAAAC,EAAAjD,KACAA,KAAAY,KAAAC,SACAC,IAAA,qBACAM,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAtD,KAAAwD,QACAD,EAAAE,MACAyB,EAAArC,KAAAa,OAAAH,EAAAC,SAGA0B,EAAA9E,QAAAyD,SAAAN,EAAAC,QAAAK,YAIAsB,iBAnGA,SAmGAC,GAAA,IAAAC,EAAApD,KACAW,EAAAX,KACAmD,IACAxC,EAAAxC,QAAAK,WACAE,KAAA,EACAC,MAAA,GACAE,OAAA,EACAE,OAAA,EACAH,SAAA,EACAb,UAGA4C,EAAAxC,QAAAK,UAAAI,SAAA,EACAoB,KAAAY,KAAAC,SACAC,IAAA,0BACA/C,MACAW,KAAAiC,EAAAxC,QAAAK,UAAAE,KACAC,MAAAgC,EAAAxC,QAAAK,UAAAG,SAEAyC,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAtD,KAAAwD,gBACAZ,EAAAxC,QAAAK,UAAAT,QAAA2E,OAAAC,IAAAS,EAAAjF,QAAAK,UAAAT,MAAA4E,IAAArB,EAAA+B,eACA/B,EAAA+B,aAAAT,OAAAjC,EAAAxC,QAAAK,UAAAG,QACAgC,EAAAxC,QAAAK,UAAAK,OAAA,EACA8B,EAAAxC,QAAAK,UAAAT,KAAA6E,SACAjC,EAAAxC,QAAAK,UAAAO,OAAA,GAEA4B,EAAAxC,QAAAK,UAAAM,UAAA,GAEA6B,EAAAxC,QAAAK,UAAAI,SAAA,EACA+B,EAAAxC,QAAAK,UAAAE,UAIA4E,OArIA,WAsIA,IAAA3C,EAAAX,KACAA,KAAAuD,cACAvD,KAAAgB,aAAAC,YA2BAN,EAAA3C,iBAAA,EACA2C,EAAAK,aAAAwC,gBAAAxD,KAAAgB,aAAAC,WACAN,EAAAF,UA5BAT,KAAAY,KAAA2C,aACAE,gBAAA,SAAApC,GACAV,EAAA6B,aACAvB,WAAAI,EAAAJ,WACAE,WAAAE,EAAAF,aAEAR,EAAAF,UAEAiD,eAAA,SAAArC,GACAV,EAAA6B,aACAvB,WAAAI,EAAAJ,WACAE,WAAAE,EAAAF,WACAwC,QAAAtC,EAAAsC,WAGAC,KAAA,SAAAvC,GACAV,EAAA6B,aACAgB,gBAAA,EACAvC,WAAA,EACA0C,QAAA,WAEAhD,EAAA3C,iBAAA,EACA2C,EAAAF,eAWAoD,QAjNA,aAoNAC,UApNA,WAqNA,GAAA9D,KAAAgB,aAAAwC,iBAAAxD,KAAAgB,aAAAC,WAYA,OAXAjB,KAAA7B,QAAAK,WACAC,YAAA,EACAC,KAAA,EACAC,MAAA,GACAC,SAAA,EACAC,QAAA,EACAC,UAAA,EACAC,OAAA,EACAhB,cAEAiC,KAAAsD,SAGA,GAAAtD,KAAA7B,QAAAC,IAAA2F,cACA/D,KAAAgD,iBAIAgB,SAAAtE,OACAC,OAAAC,EAAA,EAAAD,EACA,kBAIAsE,QA9OA,WA+OA,IAAAtD,EAAAX,KACAW,EAAA2C,SACAT,OAAAqB,iBAAA,oBACA,IAAAC,EAAAtB,OAAAuB,aAAAC,SAAAC,gBAAAH,WAAAE,SAAAE,KAAAJ,UAEAxD,EAAAvB,mBADA+E,EAAA,QCzQeK,GADEC,OAFjB,WAA0B,IAAAC,EAAA1E,KAAa2E,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAO7E,GAAA,sBAAyBwE,EAAArF,QAAA,GAAAqF,EAAArF,OAAA0C,OAAA8C,EAAA,UAAsDE,OAAO1F,OAAAqF,EAAArF,UAAqBqF,EAAAM,KAAAN,EAAAO,GAAA,KAAAJ,EAAA,iBAA2CE,OAAO5F,WAAAuF,EAAAvF,WAAA+F,WAAAR,EAAAzG,kBAA6DyG,EAAAO,GAAA,KAAAJ,EAAA,OAAwBM,YAAA,cAAwBN,EAAA,OAAYE,OAAO5G,QAAAuG,EAAAvG,QAAA+G,WAAAR,EAAAzG,eAAAD,gBAAA0G,EAAA1G,gBAAAoB,mBAAAsF,EAAAtF,oBAAwIgG,IAAKvF,iBAAA6E,EAAA7E,iBAAAqD,iBAAAwB,EAAAxB,iBAAA9C,oBAAAsE,EAAAtE,oBAAAI,gBAAAkE,EAAAlE,gBAAAD,aAAAmE,EAAAnE,iBAAqM,QAE/sB8E,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE1H,EACA0G,GATF,EAVA,SAAAiB,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/179.0978af4ebfbd3394b76b.js","sourcesContent":["<template>\r\n\t<div id=\"diy-gohome-index\">\r\n\t\t<follow :follow=\"follow\" v-if=\"follow && follow.status == 1\"></follow>\r\n\t\t<public-footer :menufooter=\"menufooter\" :preLoading=\"showPreLoading\"></public-footer>\r\n\t\t<div class=\"container\">\r\n\t\t\t<diy\r\n\t\t\t\t:diydata=\"diydata\"\r\n\t\t\t\t:preLoading=\"showPreLoading\"\r\n\t\t\t\t:getLocationFail=\"getLocationFail\"\r\n\t\t\t\t:showFixedSearchBar=\"showFixedSearchBar\"\r\n\t\t\t\t@onToggleDiscount=\"onToggleDiscount\"\r\n\t\t\t\t@onGetInformation=\"onGetInformation\"\r\n\t\t\t\t@onToggleInformation=\"onToggleInformation\"\r\n\t\t\t\t@onToggleService=\"onToggleService\"\r\n\t\t\t\t@onCloseGuide=\"onCloseGuide\">\r\n\t\t\t</diy>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState, mapMutations} from 'vuex'\r\n\timport PublicFooter from '@/components/footer'\r\n\timport follow from '@/components/follow'\r\n\timport diy from '@/components/diy'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tgetLocationFail: false,\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\tis_use_diy: 0,\r\n\t\t\t\tdiydata:{\r\n\t\t\t\t\tdiy: {\r\n\t\t\t\t\t\tdata: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpopup: {\r\n\t\t\t\t\t\tstoreSearch: false,\r\n\t\t\t\t\t\tserviceQrcode: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttongcheng: {\r\n\t\t\t\t\t\thas_get_all: 0,\r\n\t\t\t\t\t\tpage: 2,\r\n\t\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tloaded: false,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tdata:[]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tguideData: {\r\n\t\t\t\t\t\tis_show: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tconfig: {},\r\n\t\t\t\t},\r\n\t\t\t\tmenufooter: {},\r\n\t\t\t\tshowFixedSearchBar: false,\r\n\t\t\t\tfollow: {},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicFooter,\r\n\t\t\tdiy,\r\n\t\t\tfollow\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'setLocation', 'getLocation'\r\n\t\t\t]),\r\n\t\t\tonToggleDiscount(key, diyindex) {\r\n\t\t\t\tvar diyitem = this.diydata.diy.data.items[diyindex];\r\n\t\t\t\tif(diyitem.id == 'waimai_stores') {\r\n\t\t\t\t\tthis.diydata.diy.data.items[diyindex].data[key]['activity']['is_show_all'] = !this.diydata.diy.data.items[diyindex].data[key]['activity']['is_show_all'];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.diydata.stores.data[key]['activity']['is_show_all'] = !this.diydata.stores.data[key]['activity']['is_show_all'];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonToggleInformation(index) {\r\n\t\t\t\tthis.diydata.tongcheng.data[index].showall = !this.diydata.tongcheng.data[index].showall;\r\n\t\t\t},\r\n\r\n\t\t\tonCloseGuide() {\r\n\t\t\t\tthis.diydata.guideData.is_show = false;\r\n\t\t\t},\r\n\r\n\t\t\tonToggleService() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.diydata.popup.serviceQrcode = !that.diydata.popup.serviceQrcode;\r\n\t\t\t},\r\n\r\n\t\t\tonLoad() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'gohome/home/index',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlat: this.locationInfo.location_x,\r\n\t\t\t\t\t\tlng: this.locationInfo.location_y,\r\n\t\t\t\t\t\tmenufooter: 1,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthat.showPreLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno){\r\n\t\t\t\t\t\tthis.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.diy = result.message.diy;\r\n\t\t\t\t\tthat.diydata.config = result.message.config;\r\n\t\t\t\t\tthat.util.setWXTitle(that.diydata.diy.data.page.title);\r\n\t\t\t\t\tthat.diydata.cart_sum = result.message.cart_sum;\r\n\r\n\t\t\t\t\tif(that.diydata.diy.guide) {\r\n\t\t\t\t\t\tif(that.diydata.diy.guide.params.status == 1 && that.diydata.diy.guide.params.show_setting == 'interval') {\r\n\t\t\t\t\t\t\tvar guideStorage = this.util.getStorage('guideStorage');\r\n\t\t\t\t\t\t\tif(!guideStorage || (guideStorage && !guideStorage.show)) {\r\n\t\t\t\t\t\t\t\tthis.util.setStorage('guideStorage', {show: 1}, that.diydata.diy.guide.params.interval_time * 60);\r\n\t\t\t\t\t\t\t\tthat.diydata.guideData.is_show = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if(that.diydata.diy.guide.params.status == 1 && that.diydata.diy.guide.params.show_setting == 'everytime') {\r\n\t\t\t\t\t\t\tthis.util.removeStorage('guideStorage')\r\n\t\t\t\t\t\t\tthat.diydata.guideData.is_show = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar default_location = that.diydata.config.default_location;\r\n\t\t\t\t\tif(default_location && default_location.location_x) {\r\n\t\t\t\t\t\tthis.getLocationFail = false;\r\n\t\t\t\t\t\tthat.setLocation(default_location);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(result.message.diy.tongcheng && result.message.diy.tongcheng.informationdata) {\r\n\t\t\t\t\t\tthat.diydata.tongcheng.data = [...result.message.diy.tongcheng.informationdata];\r\n\t\t\t\t\t\tif(that.diydata.tongcheng.data.length == 0) {\r\n\t\t\t\t\t\t\tthat.diydata.tongcheng.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.tongcheng.loading = false;\r\n\t\t\t\t\t\tthat.diydata.tongcheng.has_get_all = that.diydata.diy.tongcheng.has_get_all;\r\n\t\t\t\t\t\tdelete that.diydata.diy['tongcheng'];\r\n\t\t\t\t\t\tif(that.diydata.tongcheng.has_get_all == 1) {\r\n\t\t\t\t\t\t\tthat.diydata.tongcheng.finished = true;\r\n\t\t\t\t\t\t\tthat.diydata.tongcheng.loaded = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.menufooter = window.menufooter;\r\n\t\t\t\t\tif(that.diydata.diy.is_show_kefu == 1) {\r\n\t\t\t\t\t\tthat.util.imeiqia();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonGetCartNums() {\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'gohome/home/cart',\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.cart_sum = result.message.cart_sum;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonGetInformation(force) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(force) {\r\n\t\t\t\t\tthat.diydata.tongcheng = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tthat.diydata.tongcheng.loading = true;\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'gohome/home/information',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpage: that.diydata.tongcheng.page,\r\n\t\t\t\t\t\tpsize: that.diydata.tongcheng.psize,\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message.message;\r\n\t\t\t\t\tthat.diydata.tongcheng.data = [...this.diydata.tongcheng.data, ...result.informations];\r\n\t\t\t\t\tif(result.informations.length < that.diydata.tongcheng.psize) {\r\n\t\t\t\t\t\tthat.diydata.tongcheng.loaded = 1;\r\n\t\t\t\t\t\tif(!that.diydata.tongcheng.data.length) {\r\n\t\t\t\t\t\t\tthat.diydata.tongcheng.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.tongcheng.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.tongcheng.loading = false;\r\n\t\t\t\t\tthat.diydata.tongcheng.page++;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonInit() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.getLocation();\r\n\t\t\t\tif(!this.locationInfo.location_x) {\r\n\t\t\t\t\tthis.util.getLocation({\r\n\t\t\t\t\t\tsuccessLocation: function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlocation_x: res.location_x,\r\n\t\t\t\t\t\t\t\tlocation_y: res.location_y\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccessAddress:  function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlocation_x: res.location_x,\r\n\t\t\t\t\t\t\t\tlocation_y: res.location_y,\r\n\t\t\t\t\t\t\t\taddress: res.address\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlast_location_x: 0,\r\n\t\t\t\t\t\t\t\tlocation_x: 0,\r\n\t\t\t\t\t\t\t\taddress: '获取定位失败'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.getLocationFail = true;\r\n\t\t\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.getLocationFail = false;\r\n\t\t\t\t\tthat.locationInfo.last_location_x = this.locationInfo.location_x;\r\n\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tcreated() {\r\n\t\t},\r\n\r\n\t\tactivated() {\r\n\t\t\tif(this.locationInfo.last_location_x != this.locationInfo.location_x) {\r\n\t\t\t\tthis.diydata.tongcheng = {\r\n\t\t\t\t\thas_get_all: 0,\r\n\t\t\t\t\tpage: 2,\r\n\t\t\t\t\tpsize: 10,\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t\tloaded: false,\r\n\t\t\t\t\tfinished: false,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tdata:[]\r\n\t\t\t\t};\r\n\t\t\t\tthis.onInit();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(this.diydata.diy.is_show_cart == 1) {\r\n\t\t\t\tthis.onGetCartNums();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\r\n\t\t\t\t'locationInfo'\r\n\t\t\t]),\r\n\t\t},\r\n\r\n\t\tmounted () {\r\n\t\t\tvar that = this;\r\n\t\t\tthat.onInit();\r\n\t\t\twindow.addEventListener('scroll', function() {\r\n\t\t\t\tvar scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\r\n\t\t\t\tif(scrollTop > 100) {\r\n\t\t\t\t\tthat.showFixedSearchBar = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.showFixedSearchBar = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/gohome/home/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"diy-gohome-index\"}},[(_vm.follow && _vm.follow.status == 1)?_c('follow',{attrs:{\"follow\":_vm.follow}}):_vm._e(),_vm._v(\" \"),_c('public-footer',{attrs:{\"menufooter\":_vm.menufooter,\"preLoading\":_vm.showPreLoading}}),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('diy',{attrs:{\"diydata\":_vm.diydata,\"preLoading\":_vm.showPreLoading,\"getLocationFail\":_vm.getLocationFail,\"showFixedSearchBar\":_vm.showFixedSearchBar},on:{\"onToggleDiscount\":_vm.onToggleDiscount,\"onGetInformation\":_vm.onGetInformation,\"onToggleInformation\":_vm.onToggleInformation,\"onToggleService\":_vm.onToggleService,\"onCloseGuide\":_vm.onCloseGuide}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ab3d5d6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/gohome/home/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ab3d5d6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ab3d5d6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1ab3d5d6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/gohome/home/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}