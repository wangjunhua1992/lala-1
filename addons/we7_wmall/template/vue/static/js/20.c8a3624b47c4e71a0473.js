webpackJsonp([20],{"461U":function(t,s){},Xp6O:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=i("Dd8w"),o=i.n(a),e=i("Cz8s"),r=i("mzkE"),n=i("Vr3d"),c=i("NYxO"),d={data:function(){return{sid:0,coupons:{coupons:[]},showPreLoading:!0,menufooter:{},checkAll:!1,result:[]}},methods:o()({onLoad:function(){var t=this;this.util.request({url:"wmall/shop/cart",data:{sid:this.sid,menufooter:1}}).then(function(s){t.showPreLoading=!1;var i=s.data.message;i.errno?t.$toast(i.message):(i=i.message,t.coupons=t.util.extend(t.coupons,i.coupons),t.replaceStore(i.store),t.replaceCart(i.cart.message.cart),t.menufooter=window.menufooter)})},onToggleGoods:function(){}},Object(c.b)(["replaceStore","replaceCart"])),created:function(){this.query=this.util.parseQuery(this.$route.query),this.sid=this.query.sid},mounted:function(){this.onLoad()},components:{PublicHeader:e.a,PublicFooter:r.a,GoodsHandle:n.a},computed:o()({},Object(c.c)(["istore","icart"]),{cartTotalPrice:function(){return(this.icart.price+this.icart.box_price).toFixed(2)},cartSendCondition:function(){return this.from?"reserve"==this.from?this.icart.num?(this.table_category.limit_price-this.icart.price).toFixed(2):this.table_category.limit_price:"table"==this.from&&this.icart.num?0:void 0:this.icart.num?(this.istore.send_price-this.icart.price-this.icart.box_price).toFixed(2):this.istore.send_price}})},l={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"font-14",attrs:{id:"shop-cart"}},[i("public-header",{attrs:{title:"购物车"}}),t._v(" "),i("public-footer",{attrs:{preLoading:t.showPreLoading,menufooter:t.menufooter}}),t._v(" "),i("div",{staticClass:"content"},[t.icart.num>0?i("van-checkbox-group",{staticClass:"bg-default",model:{value:t.result,callback:function(s){t.result=s},expression:"result"}},[t._l(t.icart.data,function(s,a){return t._l(s,function(o,e){return"88888"!=o.goods_id?i("van-checkbox",{key:o.id,class:{"border-1px-t":a>0},attrs:{name:s,"checked-color":"#ff2d4b"}},[i("div",{staticClass:"goods-item"},[i("div",{staticClass:"goods-thumb"},[i("img",{staticClass:"img-100",attrs:{src:o.thumb,alt:""}})]),t._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"goods-title"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(o.title)+"\n\t\t\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"goods-price"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.Lang.dollarSign)+t._s(o.total_discount_price)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),i("goods-handle",{attrs:{goods:o,from:"cart",optionId:e,showAnimate:!1}})],1)]):t._e()})})],2):i("div",{staticClass:"no-data"},[i("img",{staticClass:"no-cart",attrs:{src:"static/img/cart_con.png"}}),t._v(" "),i("span",{staticClass:"no-record"},[t._v("您还没有添加购物车，快去购买吧")]),t._v(" "),i("router-link",{staticClass:"target",attrs:{tag:"div",to:t.util.getUrl({path:"/pages/shop/index",query:{sid:t.sid}})}},[t._v("现在去购物")])],1)],1),t._v(" "),i("div",{staticClass:"coupons-wrap van-hairline--bottom"},[i("div",{staticClass:"title"},[t._v("领券")]),t._v(" "),t.coupons.id>0?i("div",{staticClass:"coupon-inner"},[i("div",{staticClass:"coupons"},t._l(t.coupons.coupons,function(s,a){return i("div",{key:a,staticClass:"coupon-item"},[t._v("满"+t._s(s.condition)+"减"+t._s(s.discount))])}),0),t._v(" "),i("i",{staticClass:"icon icon-right font-12 c-gray"})]):i("div",{staticClass:"coupon-inner"},[t._v("暂无领券活动~")])]),t._v(" "),t.icart.num>0?i("div",{staticClass:"total-wrap van-hairline--top van-hairline--bottom"},[t._e(),t._v(" "),i("div",{staticClass:"total"},[i("div",{staticClass:"info"},[i("div",[i("span",[t._v("合计")]),t._v(" "),i("span",{staticClass:"c-danger"},[t._v(t._s(t.Lang.dollarSign))]),t._v(" "),i("span",{staticClass:"font-bold c-danger font-16"},[t._v(t._s(t.cartTotalPrice))])]),t._v(" "),t.icart.box_price>0?i("div",{staticClass:"discount"},[t._v("\n\t\t\t\t\t其中含餐盒费"+t._s(t.Lang.dollarSign)+t._s(t.icart.box_price)+"\n\t\t\t\t")]):t._e()]),t._v(" "),t.cartSendCondition>0?i("van-button",{attrs:{round:"",size:"normal",type:"danger",disabled:""}},[t._v("还差"+t._s(t.Lang.dollarSign)+t._s(t.cartSendCondition))]):i("van-button",{attrs:{round:"",size:"normal",type:"danger",to:t.util.getUrl({path:"/pages/order/create",query:{sid:t.istore.id}})}},[t._v("去结算("+t._s(t.icart.num)+")")])],1)],1):t._e(),t._v(" "),t._e()],1)},staticRenderFns:[]};var u=i("VU/8")(d,l,!1,function(t){i("461U")},null,null);s.default=u.exports}});
//# sourceMappingURL=20.c8a3624b47c4e71a0473.js.map