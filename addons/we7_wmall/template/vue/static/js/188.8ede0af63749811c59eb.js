webpackJsonp([188],{ut5j:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Cz8s"),s=a("q0vl"),r={data:function(){return{member:{},vipRedpacket:{params:{},style:{},redpacket:{},powers:{}},popup:{agreement:!1},islegal:!1,preLoading:!0}},components:{PublicHeader:i.a,Agreement:s.a},methods:{onLoad:function(){var t=this;t.util.request({url:"vipRedpacket/order/create"}).then(function(e){t.preLoading=!1;var a=e.data.message;if(a.errno)return-2==a.errno?void t.util.$toast(a.message,t.util.getUrl({path:"/plugin/pages/vipRedpacket/index"}),1500,"replace"):void t.util.$toast(a.message);a=a.message,t.member=t.util.extend(t.member,a.member),t.vipRedpacket=t.util.extend(t.vipRedpacket,a.vipRedpacket),t.islegal=!0})},onSubmit:function(){var t=this;if(!t.islegal)return!1;t.islegal=!1,t.util.request({url:"vipRedpacket/order/create",method:"POST"}).then(function(e){var a=e.data.message;if(a.errno)return t.islegal=!0,void t.util.$toast(a.message);a=a.message,t.$router.push(t.util.getUrl({path:"pages/public/pay",query:{order_id:a.id,order_type:"vipRedpacket"}}))})},onTogglePopup:function(t){this.popup[t]=!this.popup[t]}},mounted:function(){this.onLoad()}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"vip-redpacket-create"}},[t.isWeixin?t._e():a("public-header",{attrs:{title:"开通会员"}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"userinfo"},[t._m(0),t._v(" "),a("div",{staticClass:"other flex-1"},[a("div",{staticClass:"mobile"},[t._v(t._s(t.member.mobile_secret))]),t._v(" "),a("div",{staticClass:"status"},[t._v("当前未开通尊享会员")])])]),t._v(" "),a("div",{staticClass:"card flex-lr"},[a("div",[a("div",{staticClass:"font-bold font-18"},[t._v(t._s(t.vipRedpacket.params.title))]),t._v(" "),a("div",{staticClass:"font-12 margin-10-t c-gray"},[t._v(t._s(t.vipRedpacket.params.placeholder))])]),t._v(" "),a("div",[t._v("\n\t\t\t\t"+t._s(t.Lang.dollarSign)),a("span",{staticClass:"font-bold font-20"},[t._v(t._s(t.vipRedpacket.params.price))]),t._v("/月\n\t\t\t")])]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"flex-center font-12 c-gray margin-15-t"},[a("div",{on:{click:function(e){return t.onTogglePopup("agreement")}}},[t._v("常见问题与说明")]),t._v(" "),a("i",{staticClass:"icon icon-right font-12"})])]),t._v(" "),a("div",{staticClass:"button-fixed flex-lr",class:{disabled:!t.islegal}},[a("div",{staticClass:"price"},[a("span",{staticClass:"c-gray"},[t._v(t._s(t.vipRedpacket.params.title)+"：")]),t._v(" "),a("span",[t._v(t._s(t.Lang.dollarSign))]),t._v(" "),a("span",{staticClass:"font-20"},[t._v(t._s(t.vipRedpacket.params.price))])]),t._v(" "),a("div",{staticClass:"pay",on:{click:t.onSubmit}},[t._v("去支付")])]),t._v(" "),a("agreement",{attrs:{show:t.popup.agreement,title:"常见问题与说明",content:t.vipRedpacket.rules},on:{agreementHide:function(e){return t.onTogglePopup("agreement")}}}),t._v(" "),a("iloading",{directives:[{name:"show",rawName:"v-show",value:t.preLoading,expression:"preLoading"}]})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"avatar"},[e("span",{staticClass:"icon icon-crownfill"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-lr tips van-hairline--top van-hairline--bottom"},[e("div",[this._v("红包发放时间")]),this._v(" "),e("div",{staticClass:"c-gray"},[this._v("购买后立即发放")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-lr tips van-hairline--bottom"},[e("div",[this._v("会员抵扣红包")]),this._v(" "),e("div",{staticClass:"c-gray"},[this._v("暂无抵用券可用")])])}]};var l=a("VU/8")(r,n,!1,function(t){a("vdAi")},null,null);e.default=l.exports},vdAi:function(t,e){}});
//# sourceMappingURL=188.8ede0af63749811c59eb.js.map