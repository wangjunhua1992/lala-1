webpackJsonp([170],{P0Uq:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("Gu7T"),e=a.n(i),o={data:function(){return{showAll:!1,store:{},hot_goods:[],order:{},activity:[],discounts:{},comment:{data:[]},goods:[],showPreLoading:!0}},methods:{onShowAllDiscount:function(){this.showAll=!this.showAll},onLoad:function(){var t=this;this.util.request({url:"ordergrant/share/detail",data:{id:this.id}}).then(function(s){t.showPreLoading=!1;var a=s.data.message;a.errno?t.$toast(a.message):((a=a.message).activity&&(t.activity=[].concat(e()(a.activity))),t.store=a.store,t.hot_goods=a.hot_goods,t.order=a.order,t.discounts=a.discounts,t.comment=a.comment,t.goods=a.goods)})}},created:function(){this.query=this.$route.query,this.query&&(this.id=this.query.id)},mounted:function(){this.onLoad()}},l={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"ordergrant-detail"}},[a("div",{staticClass:"content"},[a("div",{staticClass:"container"},[a("div",{staticClass:"store-wrapper"},[a("div",{staticClass:"store-logo-wrapper"},[a("div",{staticClass:"store-logo"},[a("img",{attrs:{src:t.store.logo,alt:""}})])]),t._v(" "),a("div",{staticClass:"store-comment-info"},[a("h3",{staticClass:"store-title"},[t._v(t._s(t.store.title))]),t._v(" "),a("div",{staticClass:"store-comment"},[a("div",{staticClass:"comment-center"},[a("van-rate",{attrs:{disabled:"","disabled-color":"#ff2d4b"},model:{value:t.store.score,callback:function(s){t.$set(t.store,"score",s)},expression:"store.score"}}),t._v(" "),a("span",{staticClass:"customer-score"},[t._v(" "+t._s(t.store.score))])],1)]),t._v(" "),a("div",{staticClass:"delivery-info"},[t._v("\n\t\t\t\t\t\t\t起送价"+t._s(t.Lang.dollarSign)+t._s(t.store.send_price)+"\n\t\t\t\t\t\t\t  |  配送费"+t._s(t.Lang.dollarSign)+t._s(t.store.delivery_price)+"\n\t\t\t\t\t\t\t  |  "+t._s(t.store.delivery_time)+"分钟\n\t\t\t\t\t\t")])]),t._v(" "),t.activity.length>0||t.store.delivery_free_price>0?a("div",{staticClass:"activity-container",on:{click:t.onShowAllDiscount}},[t.activity.length>1?a("div",{staticClass:"activity-num"},[a("van-icon",{staticClass:"icon",attrs:{name:"arrow-down"}})],1):t._e(),t._v(" "),t._l(t.activity,function(s,i){return 0==i||t.showAll?a("div",{key:i,staticClass:"tags",class:"tags-"+s.type},[a("div",{staticClass:"icon-b"},[a("img",{attrs:{src:"static/img/"+s.type+"_b.png"}})]),t._v("\n                        \t"+t._s(s.title)+"\n                        ")]):t._e()}),t._v(" "),t.store.delivery_free_price>0&&(1==t.activity.length||t.showAll||0==t.activity.length)?a("div",{staticClass:"tags"},[t._v("\n                        \t满"+t._s(t.store.delivery_free_price)+t._s(t.Lang.dollarSignCn)+"免配送费\n                        ")]):t._e(),t._v(" "),t.store.hot_goods?a("div",{staticClass:"tags"},[t._v("\n                        \t热销:"),t._l(t.store.hot_goods,function(s){return a("span",{key:s.id},[t._v(t._s(s.goods))])})],2):t._e()],2):t._e()]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"order"},[a("div",{staticClass:"order-detail"},[a("h3",[t._v("订单明细")]),t._v(" "),a("div",{staticClass:"order-details-con"},[a("div",{staticClass:"inner-con van-hairline--bottom"},t._l(t.goods,function(s){return a("div",{key:s.id,staticClass:"no-gutter"},[a("div",{staticClass:"goods-title"},[t._v(t._s(s.goods_title))]),t._v(" "),a("div",{staticClass:"color-muted"},[t._v("×"+t._s(s.goods_num))]),t._v(" "),a("div",{staticClass:"color-black"},[t._v(t._s(t.Lang.dollarSign)+t._s(s.goods_price))])])}),0),t._v(" "),a("div",{staticClass:"inner-con van-hairline--bottom"},[t.order.box_price>0?a("div",{staticClass:"no-gutter"},[a("div",{staticClass:"col-80"},[t._v("餐盒费")]),t._v(" "),a("div",{staticClass:"color-black"},[t._v(t._s(t.Lang.dollarSign)+t._s(t.order.box_price))])]):t._e(),t._v(" "),a("div",{staticClass:"no-gutter"},[a("div",{staticClass:"col-80"},[t._v("包装费")]),t._v(" "),a("div",{staticClass:"color-black"},[t._v(t._s(t.Lang.dollarSign)+t._s(t.order.pack_fee))])]),t._v(" "),a("div",{staticClass:"no-gutter"},[a("div",{staticClass:"col-80"},[t._v("配送费")]),t._v(" "),a("div",{staticClass:"color-black"},[t._v(t._s(t.Lang.dollarSign)+t._s(t.order.delivery_fee))])]),t._v(" "),3==t.order.order_type?a("div",{staticClass:"no-gutter"},[a("div",{staticClass:"col-80"},[t._v("服务费")]),t._v(" "),a("div",{staticClass:"color-black"},[t._v(t._s(t.Lang.dollarSign)+t._s(t.order.serve_fee))])]):t._e()]),t._v(" "),t.discounts?a("div",{staticClass:"inner-con van-hairline--bottom"},t._l(t.discounts,function(s){return a("div",{key:s.id,staticClass:"no-gutter"},[a("div",{staticClass:"tags"},[a("div",{staticClass:"icon-b"},[a("img",{attrs:{src:"static/img/"+s.type+"_b.png"}})]),t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(s.name)+"\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("div",{staticClass:"color-black"},[t._v(t._s(s.note))])])}),0):t._e(),t._v(" "),a("div",{staticClass:"inner-con"},[a("div",{staticClass:"no-gutter"},[a("div",{staticClass:"col-50"},[t._v("订单"),a("span",{staticClass:"black"},[t._v(t._s(t.Lang.dollarSign)+t._s(t.order.total_fee))]),t._v(" - 优惠"),a("span",{staticClass:"black"},[t._v(t._s(t.Lang.dollarSign)+t._s(t.order.discount_fee))])]),t._v(" "),a("div",{staticClass:"col-15"},[t._v("总计")]),t._v(" "),a("div",{staticClass:"col-25 red"},[t._v(t._s(t.Lang.dollarSign)),a("span",{staticClass:"final-fee"},[t._v(t._s(t.order.final_fee))])])])])])])]),t._v(" "),a("div",{staticClass:"comments van-hairline--bottom"},[a("div",{staticClass:"comment-detail"},[a("div",{staticClass:"comment-title"},[t._v("我的评价")]),t._v(" "),a("div",{staticClass:"comment-stars"},[a("van-rate",{attrs:{disabled:"","disabled-color":"#ff2d4b"},model:{value:t.comment.score,callback:function(s){t.$set(t.comment,"score",s)},expression:"comment.score"}})],1),t._v(" "),a("div",{staticClass:"my-comment"},[t._v(t._s(t.comment.note))]),t._v(" "),t.comment.data?[t.comment.data.good?a("div",{staticClass:"favourable-goods"},[a("i",{staticClass:"icon favor"}),t._v(" "),t._l(t.comment.data.good,function(s,i){return a("span",{staticClass:"goods-label"},[t._v(t._s(s)+" ")])})],2):t._e()]:t._e()],2)]),t._v(" "),t.hot_goods?a("div",{staticClass:"goods"},[a("div",{staticClass:"best-seller"},[a("h3",{staticClass:"best-seller-title"},[t._v("热销商品")]),t._v(" "),a("ul",{staticClass:"best-seller-list"},t._l(t.hot_goods,function(s,i){return a("li",{staticClass:"col-33"},[a("router-link",{attrs:{to:t.util.getUrl({path:"/pages/store/goods",query:{sid:t.store.id,goods_id:s.id}})}},[a("div",{staticClass:"best-seller-img"},[a("img",{attrs:{src:s.thumb,alt:""}})]),t._v(" "),a("span",{staticClass:"seller-item-name"},[t._v(t._s(s.title))]),t._v(" "),a("span",{staticClass:"seller-item-sale"},[t._v("已售"+t._s(s.sailed))]),t._v(" "),a("div",{staticClass:"seller-item-price"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.Lang.dollarSign)+"\n\t\t\t\t\t\t\t\t\t\t"),a("span",{staticClass:"price"},[t._v(t._s(s.price))])])])],1)}),0)])]):t._e()])]),t._v(" "),a("div",{staticClass:"bar-tab"},[a("router-link",{staticClass:"bar-tab-a",attrs:{to:t.util.getUrl({path:"/pages/store/goods",query:{sid:t.store.id}})}},[t._v("进店购买")])],1),t._v(" "),t.showPreLoading?a("iloading"):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"dotted-area"},[s("span",{staticClass:"circle circle-left"}),this._v(" "),s("span",{staticClass:"circle circle-right"}),this._v(" "),s("span",{staticClass:"dotted-line"})])}]};var r=a("VU/8")(o,l,!1,function(t){a("Z9FV")},null,null);s.default=r.exports},Z9FV:function(t,s){}});
//# sourceMappingURL=170.ba2147a0eba21d959ea3.js.map