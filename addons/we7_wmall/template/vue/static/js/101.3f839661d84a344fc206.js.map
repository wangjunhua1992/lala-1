{"version":3,"sources":["webpack:///src/pages/shop/category.vue","webpack:///./src/pages/shop/category.vue?6c6e","webpack:///./src/pages/shop/category.vue"],"names":["category","data","sid","cid","showPreLoading","styleContent","is_grant","title","active","diydata","diy","fixedsearch","is_has_goodsTab","is_has_location","is_has_storebasic","storebasic_style","superRedpacketData","errno","message","is_show","config","categorySelectedIndex","categorySelectedId","categoryAll","categorySelected","child","childSelectedIndex","childSelectedId","goodsAll","goodsItem","orderby","type","value","goodsLoading","store","shopPage","vanColHeight","menufooter","components","PublicHeader","header","PublicFooter","footer","computed","extends_default","Object","vuex_esm","methods","onLoad","_this","this","util","request","url","then","res","result","$toast","config_mall","extend","background-color","page","background","setWXTitle","window","cart","replaceStore","replaceCart","psize","empty","goods","length","loaded","child_id","cindex","onToggleCategory","params","index","childIndex","from","id","onGetGoods","_this2","console","log","concat","toConsumableArray_default","onOrderby","watch","icart","cartgoods","categoryAllTemp","c","childtotal","total","i","j","$route","to","created","query","parseQuery","mounted","_this3","setTimeout","bodyHeight","document","documentElement","clientHeight","getElementById","shop_category","render","_vm","_h","$createElement","_c","_self","attrs","_v","preLoading","staticClass","class","has-child-0","has-child-4","has-child-8","style","on","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/101.3f839661d84a344fc206.js","sourcesContent":["<template>\n\t<div id=\"shop-category\">\n\t\t<public-header :title=\"title\"></public-header>\n\t\t<public-footer :preLoading=\"showPreLoading\" :menufooter=\"menufooter\"></public-footer>\n\t\t<div class=\"container\" :style=\"styleContent\" :class=\"{'has-child-0': diydata.diy.storebasic_style == 2, 'has-child-4': diydata.diy.storebasic_style == 2 && diydata.categorySelected && diydata.categorySelected.child && diydata.categorySelected.child.length > 0 && diydata.categorySelected.child.length <= 4, 'has-child-8': diydata.diy.storebasic_style == 2 && diydata.categorySelected && diydata.categorySelected.child && diydata.categorySelected.child.length > 4}\">\n\t\t\t<diy\n\t\t\t\t:diydata=\"diydata\"\n\t\t\t\t:active = 'active'\n\t\t\t\t:is_grant = 'is_grant'\n\t\t\t\t:preLoading=\"showPreLoading\"\n\t\t\t\t@onToggleCategory=\"onToggleCategory\"\n\t\t\t\t@onOrderby=\"onOrderby\"\n\t\t\t\t@onGetGoods=\"onGetGoods\"\n\t\t\t>\n\t\t\t</diy>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport PublicHeader from '@/components/header'\n\timport PublicFooter from '@/components/footer'\n\timport diy from '@/components/diy'\n\timport {mapState, mapMutations} from 'vuex'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsid: 0,\n\t\t\t\tcid: 0,\n\t\t\t\tshowPreLoading: true,\n\t\t\t\tstyleContent: '#fff',\n\t\t\t\tis_grant: 0,\n\t\t\t\ttitle: '',\n\t\t\t\tactive: 1,\n\t\t\t\tdiydata: {\n\t\t\t\t\tdiy: {\n\t\t\t\t\t\tdata: {},\n\t\t\t\t\t\tfixedsearch: {},\n\t\t\t\t\t\tis_has_goodsTab: 0,\n\t\t\t\t\t\tis_has_location: 0,\n\t\t\t\t\t\tis_has_storebasic: 0,\n\t\t\t\t\t\tstorebasic_style: 1,\n\t\t\t\t\t},\n\t\t\t\t\tsuperRedpacketData: {\n\t\t\t\t\t\terrno: 0,\n\t\t\t\t\t\tmessage: {},\n\t\t\t\t\t\tis_show: true\n\t\t\t\t\t},\n\t\t\t\t\tconfig: {},\n\n\t\t\t\t\tcategorySelectedIndex: 0,\n\t\t\t\t\tcategorySelectedId: 0,\n\t\t\t\t\tcategoryAll:[],\n\t\t\t\t\tcategorySelected: {\n\t\t\t\t\t\tchild: [{}]\n\t\t\t\t\t},\n\t\t\t\t\tchildSelectedIndex: 0,\n\t\t\t\t\tchildSelectedId: 0,\n\t\t\t\t\tgoodsAll: [],\n\t\t\t\t\tgoodsItem: {\n\t\t\t\t\t\torderby: {\n\t\t\t\t\t\t\ttype: '',\n\t\t\t\t\t\t\tvalue: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tgoodsLoading: true,\n\t\t\t\t\tstore: {},\n\t\t\t\t\tshopPage: {},\n\t\t\t\t\tvanColHeight: 667\n\t\t\t\t},\n\t\t\t\tstore: {},\n\t\t\t\tmenufooter: {},\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\tPublicHeader,\n\t\t\tPublicFooter,\n\t\t\tdiy,\n\t\t},\n\t\tcomputed: {\n\t\t\t...mapState([\n\t\t\t\t'istore', 'icart',\n\t\t\t])\n\t\t},\n\t\tmethods: {\n\t\t\t...mapMutations([\n\t\t\t\t'setLocation', 'getLocation', 'replaceStore', 'replaceCart'\n\t\t\t]),\n\n\t\t\tonLoad() {\n\t\t\t\tthis.util.request({\n\t\t\t\t\turl: 'wmall/shop/category',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tsid: this.sid,\n\t\t\t\t\t\tcid: this.cid,\n\t\t\t\t\t\tmenufooter: 1\n\t\t\t\t\t},\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tthis.showPreLoading = false;\n\t\t\t\t\tthis.diydata.goodsLoading = false;\n\t\t\t\t\tlet result = res.data.message;\n\t\t\t\t\tif(result.errno) {\n\t\t\t\t\t\tthis.$toast(result.message);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.diydata.config = result.message.config_mall;\n\t\t\t\t\tthis.diydata.diy = this.util.extend(this.diydata.diy, result.message.diy);\n\t\t\t\t\tthis.styleContent = {\n\t\t\t\t\t\t'background-color': this.diydata.diy.data.page.background\n\t\t\t\t\t};\n\t\t\t\t\tthis.diydata.superRedpacketData = result.message.superRedpacketData;\n\t\t\t\t\tthis.diydata.superRedpacketData.is_show = true;\n\n\t\t\t\t\tthis.util.setWXTitle(this.title);\n\t\t\t\t\tthis.menufooter = window.menufooter;\n\n\t\t\t\t\tthis.cart = result.message.cart.message.cart;\n\t\t\t\t\tthis.store = result.message.store;\n\t\t\t\t\tthis.replaceStore(this.store);\n\t\t\t\t\tthis.replaceCart(this.cart);\n\t\t\t\t\tthis.store = result.message.store;\n\n\t\t\t\t\tthis.title = this.store.title || '门店首页';\n\n\t\t\t\t\t//基础组件数据\n\t\t\t\t\tif(this.diydata.diy.is_has_storebasic == 1) {\n\t\t\t\t\t\tthis.diydata.categoryAll = result.message.category;\n\t\t\t\t\t\tthis.diydata.goodsItem = {\n\t\t\t\t\t\t\tpage: 2,\n\t\t\t\t\t\t\tpsize: 30,\n\t\t\t\t\t\t\tempty: 0,\n\t\t\t\t\t\t\tdata: result.message.goods,\n\t\t\t\t\t\t\torderby: {\n\t\t\t\t\t\t\t\ttype: '',\n\t\t\t\t\t\t\t\tvalue: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif(this.diydata.goodsItem.data.length < this.diydata.goodsItem.psize) {\n\t\t\t\t\t\t\tthis.diydata.goodsItem.loaded = true;\n\t\t\t\t\t\t\tif(!this.diydata.goodsItem.data.length) {\n\t\t\t\t\t\t\t\tthis.diydata.goodsItem.empty = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.diydata.categorySelectedId = result.message.cid;\n\t\t\t\t\t\tthis.diydata.childSelectedId = result.message.child_id;\n\t\t\t\t\t\tthis.diydata.categorySelectedIndex = result.message.cindex;\n\t\t\t\t\t\tthis.diydata.goodsAll[this.diydata.categorySelectedIndex] = [];\n\t\t\t\t\t\tthis.diydata.goodsAll[this.diydata.categorySelectedIndex][this.diydata.childSelectedIndex] = this.diydata.goodsItem;\n\t\t\t\t\t\tthis.diydata.categorySelected = result.message.category[this.diydata.categorySelectedIndex] || {};\n\n\t\t\t\t\t\tthis.diydata.store = this.store;\n\t\t\t\t\t\tthis.diydata.shopPage = this.store.data.shopPage;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\n\t\t\tonToggleCategory(params) {\n\t\t\t\tvar cid = params.cid;\n\t\t\t\tvar index = params.index;\n\t\t\t\tvar from = params.from;\n\t\t\t\tvar childIndex = 0;\n\t\t\t\tif(from == 'child') {\n\t\t\t\t\tchildIndex = index;\n\t\t\t\t\tthis.diydata.childSelectedIndex = childIndex;\n\t\t\t\t\tthis.diydata.categoryAll[this.diydata.categorySelectedIndex]['childSelectedIndex'] = childIndex;\n\t\t\t\t\tthis.diydata.categorySelected = this.diydata.categoryAll[this.diydata.categorySelectedIndex];\n\t\t\t\t} else {\n\t\t\t\t\tif(this.diydata.categoryAll[index]['childSelectedIndex'] > 0) {\n\t\t\t\t\t\tchildIndex = this.diydata.categoryAll[index].childSelectedIndex;\n\t\t\t\t\t}\n\t\t\t\t\tthis.diydata.categorySelected = this.diydata.categoryAll[index];\n\t\t\t\t\tthis.diydata.categorySelectedIndex = index;\n\t\t\t\t\tthis.diydata.childSelectedIndex = childIndex;\n\t\t\t\t\tthis.diydata.categoryAll[index]['childSelectedIndex'] = childIndex;\n\t\t\t\t}\n\t\t\t\tthis.diydata.categorySelectedId = this.diydata.categorySelected.id;\n\t\t\t\tthis.diydata.childSelectedId = 0;\n\t\t\t\tif(this.diydata.categorySelected.child && this.diydata.categorySelected.child.length > 0) {\n\t\t\t\t\tthis.diydata.childSelectedId = this.diydata.categorySelected.child[childIndex]['id'];\n\t\t\t\t}\n\t\t\t\tthis.onGetGoods();\n\t\t\t},\n\n\t\t\tonGetGoods() {\n\t\t\t\tif(this.diydata.goodsLoading) {\n\t\t\t\t\t//return false;\n\t\t\t\t}\n\t\t\t\tif(!this.diydata.goodsAll[this.diydata.categorySelectedIndex]) {\n\t\t\t\t\tthis.diydata.goodsAll[this.diydata.categorySelectedIndex] = [];\n\t\t\t\t}\n\t\t\t\tthis.diydata.goodsItem = this.diydata.goodsAll[this.diydata.categorySelectedIndex][this.diydata.childSelectedIndex];\n\t\t\t\tif(!this.diydata.goodsItem) {\n\t\t\t\t\tthis.diydata.goodsItem = {\n\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\tpsize: 30,\n\t\t\t\t\t\tempty: 0,\n\t\t\t\t\t\tloaded: false,\n\t\t\t\t\t\tdata: [],\n\t\t\t\t\t\torderby: {\n\t\t\t\t\t\t\ttype: '',\n\t\t\t\t\t\t\tvalue: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tif(this.diydata.goodsItem.empty) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif(this.diydata.goodsItem.loaded) {\n\t\t\t\t\t\tconsole.log('商品全部加载完成');\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.diydata.goodsLoading = true;\n\t\t\t\tthis.util.request({\n\t\t\t\t\turl: 'wmall/store/goods/goods',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tsid: this.sid,\n\t\t\t\t\t\tpage: this.diydata.goodsItem.page,\n\t\t\t\t\t\tpsize: this.diydata.goodsItem.psize,\n\t\t\t\t\t\tcid: this.diydata.categorySelectedId,\n\t\t\t\t\t\tchild_id: this.diydata.childSelectedId,\n\t\t\t\t\t\ttype: this.diydata.goodsItem.orderby.type,\n\t\t\t\t\t\tvalue: this.diydata.goodsItem.orderby.value\n\t\t\t\t\t},\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tthis.diydata.goodsLoading = false;\n\t\t\t\t\tvar result = res.data.message.message;\n\t\t\t\t\tthis.diydata.goodsItem.data = [...this.diydata.goodsItem.data, ...result.goods];\n\t\t\t\t\tthis.diydata.goodsItem.page++;\n\t\t\t\t\tif(result.goods.length < this.diydata.goodsItem.psize) {\n\t\t\t\t\t\tthis.diydata.goodsItem.loaded = true;\n\t\t\t\t\t\tif(!result.goods.length) {\n\t\t\t\t\t\t\tthis.diydata.goodsItem.empty = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!this.diydata.goodsAll[this.diydata.categorySelectedIndex]) {\n\t\t\t\t\t\tthis.diydata.goodsAll[this.diydata.categorySelectedIndex] = [];\n\t\t\t\t\t}\n\t\t\t\t\tthis.diydata.goodsAll[this.diydata.categorySelectedIndex][this.diydata.childSelectedIndex] = this.diydata.goodsItem;\n\t\t\t\t})\n\t\t\t},\n\n\t\t\tonOrderby(params) {\n\t\t\t\tvar type = params.type;\n\t\t\t\tvar value = params.value;\n\t\t\t\tthis.diydata.goodsItem = {\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tpsize: 30,\n\t\t\t\t\tempty: 0,\n\t\t\t\t\tdata: [],\n\t\t\t\t\torderby: {\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.diydata.goodsAll[this.diydata.categorySelectedIndex][this.diydata.childSelectedIndex] = this.diydata.goodsItem;\n\t\t\t\tthis.onGetGoods();\n\t\t\t},\n\n\t\t},\n\t\twatch: {\n\t\t\ticart() {\n\t\t\t\tvar cartgoods = this.icart.data;\n\t\t\t\tvar categoryAllTemp = this.diydata.categoryAll;\n\t\t\t\tif(cartgoods) {\n\t\t\t\t\tfor(var c in categoryAllTemp) {\n\t\t\t\t\t\tcategoryAllTemp[c]['total'] = 0;\n\t\t\t\t\t\tif(categoryAllTemp[c]['child'] && categoryAllTemp[c]['child'].length > 0) {\n\t\t\t\t\t\t\tfor(var index in categoryAllTemp[c]['child']) {\n\t\t\t\t\t\t\t\tcategoryAllTemp[c]['child'][index]['total'] = 0;\n\t\t\t\t\t\t\t\tvar childtotal = 0;\n\t\t\t\t\t\t\t\tvar total = 0;\n\t\t\t\t\t\t\t\tfor(var i in cartgoods) {\n\t\t\t\t\t\t\t\t\tfor(var j in cartgoods[i]) {\n\t\t\t\t\t\t\t\t\t\tif(cartgoods[i][j]['cid'] == categoryAllTemp[c]['id']) {\n\t\t\t\t\t\t\t\t\t\t\ttotal += cartgoods[i][j]['num'];\n\t\t\t\t\t\t\t\t\t\t\tcategoryAllTemp[c]['total'] = total;\n\t\t\t\t\t\t\t\t\t\t\tif(cartgoods[i][j]['child_id'] == categoryAllTemp[c]['child'][index]['id']) {\n\t\t\t\t\t\t\t\t\t\t\t\tchildtotal += cartgoods[i][j]['num'];\n\t\t\t\t\t\t\t\t\t\t\t\tcategoryAllTemp[c]['child'][index]['total'] = childtotal;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar total = 0;\n\t\t\t\t\t\t\tfor(var i in cartgoods) {\n\t\t\t\t\t\t\t\tfor(var j in cartgoods[i]) {\n\t\t\t\t\t\t\t\t\tif(cartgoods[i][j]['cid'] == categoryAllTemp[c]['id']) {\n\t\t\t\t\t\t\t\t\t\ttotal += cartgoods[i][j]['num'];\n\t\t\t\t\t\t\t\t\t\tcategoryAllTemp[c]['total'] = total;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor(var c in categoryAllTemp) {\n\t\t\t\t\t\tcategoryAllTemp[c]['total'] = 0;\n\t\t\t\t\t\tif(categoryAllTemp[c]['child']) {\n\t\t\t\t\t\t\tfor(var index in categoryAllTemp[c]['child']) {\n\t\t\t\t\t\t\t\tcategoryAllTemp[c]['child'][index]['total'] = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.diydata.categoryAll = categoryAllTemp;\n\t\t\t},\n\t\t\t'$route' (to, from) {\n\t\t\t\tthis.onLoad();\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tthis.query = this.util.parseQuery(this.$route.query);\n\t\t\tthis.sid = this.query.sid;\n\t\t\tthis.cid = this.query.cid;\n\t\t},\n\t\tmounted() {\n\t\t\tvar that = this;\n\t\t\tthat.onLoad();\n\t\t\tsetTimeout(()=> {\n\t\t\t\tlet bodyHeight = document.documentElement.clientHeight;\n\t\t\t\tthis.diydata.vanColHeight = bodyHeight;\n\t\t\t\tif(document.getElementById('public-header')) {\n\t\t\t\t\tthis.diydata.vanColHeight = this.diydata.vanColHeight - 46;\n\t\t\t\t}\n\t\t\t\tif(document.getElementById('public-footer')) {\n\t\t\t\t\tthis.diydata.vanColHeight = this.diydata.vanColHeight - 50;\n\t\t\t\t}\n\t\t\t},50)\n\t\t}\n\t}\n</script>\n\n<style>\n\n\t#shop-category .container.has-child-4{\n\t\tpadding-top: 151px;\n\t}\n\t#shop-category .container.has-child-8{\n\t\tpadding-top: 205px;\n\t}\n\t#shop-category #public-header~.container.has-child-0{\n\t\tpadding-top: 143px;\n\t}\n\t#shop-category #public-header~.container.has-child-4{\n\t\tpadding-top: 197px;\n\t}\n\t#shop-category #public-header~.container.has-child-8{\n\t\tpadding-top: 251px;\n\t}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/shop/category.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"shop-category\"}},[_c('public-header',{attrs:{\"title\":_vm.title}}),_vm._v(\" \"),_c('public-footer',{attrs:{\"preLoading\":_vm.showPreLoading,\"menufooter\":_vm.menufooter}}),_vm._v(\" \"),_c('div',{staticClass:\"container\",class:{'has-child-0': _vm.diydata.diy.storebasic_style == 2, 'has-child-4': _vm.diydata.diy.storebasic_style == 2 && _vm.diydata.categorySelected && _vm.diydata.categorySelected.child && _vm.diydata.categorySelected.child.length > 0 && _vm.diydata.categorySelected.child.length <= 4, 'has-child-8': _vm.diydata.diy.storebasic_style == 2 && _vm.diydata.categorySelected && _vm.diydata.categorySelected.child && _vm.diydata.categorySelected.child.length > 4},style:(_vm.styleContent)},[_c('diy',{attrs:{\"diydata\":_vm.diydata,\"active\":_vm.active,\"is_grant\":_vm.is_grant,\"preLoading\":_vm.showPreLoading},on:{\"onToggleCategory\":_vm.onToggleCategory,\"onOrderby\":_vm.onOrderby,\"onGetGoods\":_vm.onGetGoods}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5da2408d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/shop/category.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5da2408d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./category.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./category.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./category.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5da2408d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./category.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/shop/category.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}