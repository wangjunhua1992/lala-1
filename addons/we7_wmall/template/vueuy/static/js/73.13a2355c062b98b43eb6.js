webpackJsonp([73],{kxbJ:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("Gu7T"),e=a.n(i),o=a("Dd8w"),r=a.n(o),n=a("NYxO"),d=a("Cz8s"),c=a("RoZr"),_=a("Vr3d"),l={data:function(){return{preLoading:!0,cart:{},store:{is_rest:0,data:{shopPage:{}}},member_kabao:{},status:{cart_show:!0},shopPageItem:{},goods:[]}},components:{PublicHeader:d.a,StoreCart:c.a,GoodsHandle:_.a},methods:r()({},Object(n.b)(["replaceStore","replaceCart"]),{onLoad:function(){var t=this;if(!this.$route.query.sid||!this.$route.query.shopPageKey)return this.$toast("参数错误"),!1;this.sid=this.$route.query.sid,this.shopPageKey=this.$route.query.shopPageKey,this.util.request({url:"wmall/store/goods/shopPage",data:{sid:this.sid,shopPageKey:this.shopPageKey}}).then(function(s){t.preLoading=!1;var a=s.data.message;a.errno||(t.cart=a.message.cart.message.cart,t.replaceCart(t.cart),t.store=a.message.store,t.member_kabao=a.message.member_kabao,t.replaceStore(t.store),t.shopPageItem=a.message.store.data.shopPage[t.shopPageKey],t.goods=[].concat(e()(t.goods),e()(a.message.goods)))})}}),computed:r()({},Object(n.c)(["istore","icart"])),created:function(){this.query=this.$route.query,this.query&&(this.pindan_id=0,this.query.pindan_id>0&&(this.pindan_id=this.query.pindan_id))},mounted:function(){this.onLoad()}},p={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"shop-page"}},[a("public-header",{attrs:{title:"活动详情"}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"banner"},[a("img",{attrs:{src:t.shopPageItem.thumb}})]),t._v(" "),a("div",{staticClass:"goods-list"},[t._l(t.goods,function(s){return a("div",{staticClass:"col-50 goods-item van-hairline--left van-hairline--top van-hairline--bottom"},[a("div",{staticClass:"goods-info"},[a("router-link",{staticClass:"avatar",attrs:{to:t.util.getUrl({path:"/pages/store/goodsDetail",query:{id:s.id,sid:t.store.id,pindan_id:t.pindan_id}})}},[(1!=s.svip_status||s.discount_price>0)&&s.discount>0?a("div",{staticClass:"discount"},[a("div",[a("div",{staticClass:"icon icon-tag"}),t._v(" "+t._s(s.discount)+"折 限"+t._s(s.max_buy_limit)+"份\n\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),a("img",{attrs:{src:s.thumb}})]),t._v(" "),a("div",{staticClass:"goods-name"},[t._v(t._s(s.title))]),t._v(" "),1!=s.svip_status||s.discount_price?a("div",{staticClass:"solid"},[t._v("\n\t\t\t\t\t\t已售"+t._s(s.sailed)+" "),a("div",[t._v("赞"+t._s(s.comment_good))])]):a("div",{staticClass:"svip-price-tips"},[a("div",{staticClass:"svip-price"},[a("span",{staticClass:"ellipsis"},[t._v(t._s(s.discount)+"折")])]),t._v(" "),a("div",{staticClass:"svip-activity ellipsis"},[t._v("超级会员专享")])]),t._v(" "),a("div",{staticClass:"price"},[t._v("\n\t\t\t\t\t\t"+t._s(t.Lang.dollarSign)),a("div",[t._v(t._s(s.price))])]),t._v(" "),s.old_price?a("div",{staticClass:"old-price"},[t._v(t._s(t.Lang.dollarSign)+t._s(s.old_price))]):t._e(),t._v(" "),s.unitnum>1?a("div",{staticClass:"goods-unitnum"},[a("div",[t._v(t._s(s.unitnum_multi_cn)+"购")])]):t._e(),t._v(" "),a("goods-handle",{attrs:{goods:s,optionId:0,from:"shopPageList"}})],1),t._v(" "),1==t.member_kabao.vip_goods?a("div",{staticClass:"kabao-price-wrap"},[1!=s.kabao_status||s.discount_price?t._e():[a("span",{staticClass:"kabao-price"},[t._v("\n\t\t\t\t\t\t\t￥"+t._s(s.kabao_price)+"\n\t\t\t\t\t\t")]),t._v(" "),t._m(0,!0)]],2):t._e()])}),t._v(" "),a("div",{staticStyle:{clear:"both"}})],2)]),t._v(" "),a("store-cart",{attrs:{show:1,store:t.store,cart:t.cart,pindan_id:t.pindan_id}}),t._v(" "),a("transition",{attrs:{name:"loading"}},[t.preLoading?a("iloading"):t._e()],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"kabao-label"},[s("i",{staticClass:"icon icon-vip"}),this._v(" "),s("span",[this._v("会员价")])])}]};var v=a("VU/8")(l,p,!1,function(t){a("xQl4")},null,null);s.default=v.exports},xQl4:function(t,s){}});
//# sourceMappingURL=73.13a2355c062b98b43eb6.js.map