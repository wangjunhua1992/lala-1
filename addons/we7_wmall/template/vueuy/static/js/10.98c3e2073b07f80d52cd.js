webpackJsonp([10],{Dq1y:function(t,e){},IeHp:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("woOf"),i=r.n(a),s=r("Gu7T"),o=r.n(s),n=r("Cz8s"),l=r("mzkE"),d=r("5ryX"),c=r("Fd2+"),v=r("MJLE"),_=r.n(v),h=r("Yo4o"),u=r("nIsk"),p={components:{PublicHeader:n.a,PublicFooter:l.a,navigator:d.a,Dialog:c.a},data:function(){return{showPreLoading:!0,active_tab:2,goods:[],store:{cn:{}},order:{},activityed:[],deliveryer:{},logs:{},log:{},maxid:"",slides:[],refundmaxid:"",share:{info:{}},refund:{},refund_logs:{},can_delete:0,menufooter:{},sendRedpacket:!1,zhezhaoShow:!1,orderShare:!1,show_location:0,showSelectCall:!1,config_mall:{call_deliveryer_need_select:0,mobile:""},member:{},scrollTop:0,showMap:!0,showYinsihao:!1,yinsihao:{secret_mobile:"",extension:""},servicePopupStatus:!1,deliveryerMarkers:[],memberMarkers:[],storeMarkers:[],MapType:"gaode"}},methods:{onRefresh:function(){window.location.reload()},onChangeStatus:function(t,e,r){if("cancel"==e)var a={url:"wmall/order/index/cancel?id="+t,confirm:"确定取消订单吗?"};else if("end_1"==e||"end_2"==e){a={url:"wmall/order/index/end?id="+t,confirm:"你确定收到该商家的外卖?",successUrl:"/pages/order/comment?id="+t};"end_2"==e&&(a.confirm="你确定收到该商家的外卖?")}else if("remind"==e)a={url:"wmall/order/index/remind?id="+t};this.util.jspost(a)},onFinishMealPay:function(){c.a.confirm({title:"ئەسكەرتىش",message:"您的支付方式为餐后支付，请到商家收银台付款",confirmButtonText:"جەزىملەش",cancelButtonText:"قالدۇرۇش"}).then(function(){})},onCallStoreOrDeliveryer:function(t){var e=this,r=this;if(1==r.order.data.yinsihao_status)r.util.request({url:"yinsihao/yinsihao",data:{order_id:r.order.id,type:t,ordersn:r.order.ordersn}}).then(function(a){var i=a.data.message;if(i.errno)if(-1e3==i.errno){var s="";"store"==t?s=r.store.telephone:"deliveryer"==t&&(s=r.deliveryer.mobile),r.util.jsTel(s)}else-2==i.errno?r.servicePopupStatus=!0:e.$toast(i.message);else i=i.message,r.yinsihao.secret_mobile=i.data.secret_mobile,r.yinsihao.extension=i.data.extension,r.showYinsihao=!0});else{var a="";"store"==t?a=r.store.telephone:"deliveryer"==t&&(a=r.deliveryer.mobile),r.util.jsTel(a)}},onLoad:function(){var t=this;this.$route.query.id?this.id=this.$route.query.id:this.$toast("订单不存在或已删除！"),this.util.request({url:"wmall/order/index/new_detail",data:{id:this.id,menufooter:1}}).then(function(e){t.showPreLoading=!1;var r=e.data.message;if(r.errno)t.$toast(r.message);else{if(t.goods=[].concat(o()(t.goods),o()(r.message.goods)),t.store=r.message.store,1==t.util.getStorage("itime")){var a=Math.floor(100*Math.random());r.message.order.final_fee=a}if(t.order=r.message.order,t.activityed=[].concat(o()(t.activityed),o()(r.message.activityed)),t.deliveryer=r.message.deliveryer,t.logs=r.message.order_log.logs,t.log=r.message.order_log.log,t.maxid=r.message.order_log.maxid,t.slides=0==r.message.slides?r.message.slides:[].concat(o()(t.slides),o()(r.message.slides)),t.share=r.message.share,t.refund=r.message.refund_data.refund,t.refund_logs=r.message.refund_data.refund_logs,t.refundmaxid=r.message.refund_data.refundmaxid,t.can_delete=r.message.can_delete,t.show_location=r.message.show_location,t.config_mall=r.message.config_mall,t.MapType=t.util.getStorage("MapType"),t.menufooter=window.menufooter,2==t.order.order_type&&r.message.qrcode&&t.$nextTick(function(){this.newQrcode(r.message.qrcode)}),t.member=r.message.member,1==t.show_location&&(t.loadmap(),setInterval(function(){t.onRefreshMap()},1e4),t.checkContentDivScroll()),t.share.info&&(t.share.info.share_button>0||1==t.share.info.superRedpacket_share_status)){var i=window._share,s=t;2==s.share.info.share_button&&(i.success=function(){s.util.request({url:"ordergrant/share/grant",data:{id:s.order.id}}).then(function(t){s.util.$toast(t.data.message.message.message,s.util.getUrl({path:"pages/order/detail",query:{id:s.order.id}}),1e3)})}),s.wx.share(i)}}})},onChangeZhezhao:function(t){t&&(this.orderShare=!1,this.sendRedpacket=!1),this.zhezhaoShow=!this.zhezhaoShow},onDeleteOrder:function(){var t=this,e=this;e.$dialog.confirm({message:"确订删除该订单吗？",confirmButtonText:"جەزىملەش",cancelButtonText:"قالدۇرۇش"}).then(function(){e.util.request({url:"wmall/order/index/delete",data:{id:e.order.id}}).then(function(r){var a=r.data.message;a.errno?t.$toast(a.message):e.util.$toast(a.message,e.util.getUrl({path:"/pages/order/index"}),1500,"replace")})}).catch(function(){})},onSelectCall:function(t){t&&this.util.jsTel(t),this.showSelectCall=!this.showSelectCall},newQrcode:function(t){new _.a("qrcode",{width:150,height:150,text:t,image:""})},loadmap:function(){var t=this;"google"==t.MapType?Object(u.a)().then(function(e){t.map=new e.maps.Map(document.getElementById("map-container"),{center:{lat:parseFloat(t.order.location_x),lng:parseFloat(t.order.location_y)},zoom:10,disableDefaultUI:!0}),t.onSetMarkers()}):Object(h.a)().then(function(e){t.map=new e.Map("map-container",{resizeEnable:!0,center:[t.order.location_y,t.order.location_x],zoom:10}),t.onSetMarkers()})},onRefreshMap:function(){var t=this,e=this;e.util.request({url:"wmall/order/index/refresh_map",data:{id:e.order.id}}).then(function(r){var a=r.data.message;a.errno?t.$toast(a.message):(a=a.message,e.order=i()(e.order,a.order),a.deliveryer&&(e.deliveryer=i()(e.deliveryer,a.deliveryer)),e.show_location=a.show_location,e.onSetMarkers())})},onSetMarkers:function(){var t=this;if("google"==t.MapType){var e;if(t.order.location_y&&t.order.location_x){var r=function(t,e){this.bounds_=t,this.map_=e,this.div_=null,this.setMap(e)};t.memberOverlay&&t.memberOverlay.setMap(null),(r.prototype=new google.maps.OverlayView).onRemove=function(){this.div_.parentNode.removeChild(this.div_),this.div_=null},r.prototype.onAdd=function(){var e=document.createElement("div");if(0==t.order.is_pay){e.className="marker-common marker-common-gmap marker-mine-nopay";var r=document.createElement("div");r.className="img-wrap";var a=document.createElement("img");a.src=t.member.avatar,a.className="img-100",r.appendChild(a),e.appendChild(r);var i=document.createElement("div"),s=document.createElement("div");s.className="font-12",s.innerHTML="等待支付",i.appendChild(s),e.appendChild(i)}else e.className="marker-mine-route";this.div_=e,this.getPanes().overlayLayer.appendChild(e)},r.prototype.draw=function(){var e=this.getProjection(),r=e.fromLatLngToDivPixel(this.bounds_.getSouthWest()),a=e.fromLatLngToDivPixel(this.bounds_.getNorthEast()),i=this.div_;0==t.order.is_pay?(i.style.left=r.x-50+"px",i.style.top=a.y-50+"px"):(i.style.left=r.x-35+"px",i.style.top=a.y-35+"px")},e=new google.maps.LatLngBounds(new google.maps.LatLng(parseFloat(t.order.location_x),parseFloat(t.order.location_y))),t.memberOverlay=new r(e,t.map)}if(1==t.order.is_pay&&t.store.location_y&&t.store.location_x){var a=function(t,e){this.bounds_=t,this.map_=e,this.div_=null,this.setMap(e)};t.storeOverlay&&t.storeOverlay.setMap(null),(a.prototype=new google.maps.OverlayView).onRemove=function(){this.div_.parentNode.removeChild(this.div_),this.div_=null},a.prototype.onAdd=function(){var e=document.createElement("div");if(1==t.order.status){e.className="marker-common marker-common-gmap marker-store-waiting";var r=document.createElement("div");r.className="img-wrap",(s=document.createElement("img")).src=t.store.logo,s.className="img-100",r.appendChild(s),e.appendChild(r);var a=document.createElement("div"),i=document.createElement("div");i.className="font-12",i.innerHTML="等待商家接单",a.appendChild(i),e.appendChild(a),o=-62.5,n=-44}else{var s;e.className="marker-start-head-route",(s=document.createElement("img")).src=t.store.logo,e.appendChild(s)}this.div_=e,this.getPanes().overlayLayer.appendChild(e)},a.prototype.draw=function(){var e=this.getProjection(),r=e.fromLatLngToDivPixel(this.bounds_.getSouthWest()),a=e.fromLatLngToDivPixel(this.bounds_.getNorthEast()),i=this.div_;1==t.order.status?(i.style.left=r.x-62.5+"px",i.style.top=a.y-115+"px"):(i.style.left=r.x-35+"px",i.style.top=a.y-140+"px")},e=new google.maps.LatLngBounds(new google.maps.LatLng(parseFloat(t.store.location_x),parseFloat(t.store.location_y))),t.storeOverlay=new a(e,t.map)}if(t.order.deliveryer_id>0&&t.deliveryer&&t.deliveryer.location_x&&t.deliveryer.location_y){var i=function(t,e){this.bounds_=t,this.map_=e,this.div_=null,this.setMap(e)};t.deliveryerOverlay&&t.deliveryerOverlay.setMap(null),(i.prototype=new google.maps.OverlayView).onRemove=function(){this.div_.parentNode.removeChild(this.div_),this.div_=null},i.prototype.onAdd=function(){var e=document.createElement("div");e.className="marker-common marker-common-gmap marker-deliveryer-take";var r=document.createElement("div");r.className="img-wrap";var a=document.createElement("img");a.src=t.deliveryer.avatar,a.className="img-100",r.appendChild(a),e.appendChild(r);var i=document.createElement("div"),s=document.createElement("div");s.className="font-12",s.innerHTML=7==t.order.delivery_status?"骑手正在赶往商家":"骑手正在送餐中",i.appendChild(s),e.appendChild(i),this.div_=e,this.getPanes().overlayLayer.appendChild(e)},i.prototype.draw=function(){var t=this.getProjection(),e=t.fromLatLngToDivPixel(this.bounds_.getSouthWest()),r=t.fromLatLngToDivPixel(this.bounds_.getNorthEast()),a=this.div_;a.style.left=e.x-85+"px",a.style.top=r.y-190+"px"},e=new google.maps.LatLngBounds(new google.maps.LatLng(parseFloat(t.deliveryer.location_x),parseFloat(t.deliveryer.location_y))),t.deliveryerOverlay=new i(e,t.map)}}else{var s="",o="",n="";if(t.order.location_y&&t.order.location_x){t.map.remove(t.memberMarkers),s='<div class="marker-mine-route"></div>',o=-35,n=-35,0==t.order.is_pay&&(s='<div class="marker-common marker-mine-nopay"><div class="img-wrap"><img class="img-100" src="'+t.member.avatar+'" alt=""></div><div class=""><div class="font-12 ">等待支付</div></div>',o=-50,n=-44);var l=new AMap.Marker({position:[t.order.location_y,t.order.location_x],offset:new AMap.Pixel(o,n),content:s});t.memberMarkers.push(l),l.setMap(t.map)}if(1==t.order.is_pay&&t.store.location_y&&t.store.location_x){t.map.remove(t.storeMarkers),s='<div class="marker-start-head-route"><img src="'+t.store.logo+'" alt=""/></div>',o=-33,n=-80,1==t.order.status&&(s='<div class="marker-common marker-store-waiting"><div class="img-wrap"><img class="img-100" src="'+t.store.logo+'" alt=""></div><div class=""><div class="font-12 ">等待商家接单</div></div>',o=-62.5,n=-44);l=new AMap.Marker({position:[t.store.location_y,t.store.location_x],offset:new AMap.Pixel(o,n),content:s});t.storeMarkers.push(l),l.setMap(t.map)}if(t.order.deliveryer_id>0&&t.deliveryer&&t.deliveryer.location_x&&t.deliveryer.location_y){t.map.remove(t.deliveryerMarkers),7==t.order.delivery_status?(s='<div class="marker-common marker-deliveryer-take"><div class="img-wrap"><img class="img-100" src="'+t.deliveryer.avatar+'" alt=""></div><div class=""><div class="font-12 ">骑手正在赶往商家</div><div class="font-12 hide">距商家 <span class="c-danger">1.6km 18分钟</span></div> </div>',o=-85,n=-44):4==t.order.delivery_status&&(s='<div class="marker-common marker-deliveryer-take"><div class="img-wrap"><img class="img-100" src="'+t.deliveryer.avatar+'" alt=""></div><div class=""><div class="font-12 ">骑手正在送餐中</div><div class="font-12 hide">预计<span class="c-danger">18</span>分钟送达</span></div> </div>',o=-85,n=-44);l=new AMap.Marker({position:[t.deliveryer.location_y,t.deliveryer.location_x],offset:new AMap.Pixel(o,n),content:s});t.deliveryerMarkers.push(l),l.setMap(t.map)}t.map.setFitView()}},checkContentDivScroll:function(){var t=this,e=document.getElementById("scrollDiv");e.addEventListener("scroll",function(){var r=e.scrollTop-t.scrollTop;t.scrollTop=e.scrollTop,r<0?t.scrollTop<=0&&!t.showMap&&(t.showMap=!0):t.scrollTop>20&&t.showMap&&(t.showMap=!1,t.scrollTop=0)})}},mounted:function(){this.onLoad()}},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"orderDetail"}},[r("public-header",{attrs:{title:"زاكاس تەپسىلاتى"}}),t._v(" "),r("public-footer",{attrs:{preLoading:t.showPreLoading,menufooter:t.menufooter}}),t._v(" "),r("div",{staticClass:"content",attrs:{id:"scrollDiv"}},[r("van-tabs",{model:{value:t.active_tab,callback:function(e){t.active_tab=e},expression:"active_tab"}},[r("van-tab",{staticClass:"order-detail",attrs:{title:"زاكاس تەپسىلاتى"}},[r("div",{staticClass:"order-info-wrap "},[1==t.show_location?r("div",{staticClass:"map-wrap",class:{"map-wrap-hide":!t.showMap}},[r("div",{attrs:{id:"map-container"}}),t._v(" "),r("div",{staticClass:"map-refresh",on:{click:t.onRefreshMap}},[r("i",{staticClass:"icon icon-refresh c-white"})])]):t._e(),t._v(" "),r("div",{staticClass:"order-state border-1px-tb"},[r("div",{staticClass:"order-state-con"},[r("div",{staticClass:"guide"},[r("img",{attrs:{src:"static/img/order_status_service.png",alt:""}})]),t._v(" "),r("div",{staticClass:"order-state-detail"},[r("div",{staticClass:"flex-lr"},[t._v("زاكاس"+t._s(t.order.status_cn)),r("span",{staticClass:"pull-right date"},[t._v(t._s(t.order.addtime_cn))])]),t._v(" "),t.log&&7!=t.order.delivery_status?r("div",{staticClass:"tips clearfix"},[t._v(t._s(t.log.note))]):t._e()]),t._v(" "),t.order.data&&1==t.order.data.yinsihao_status?r("div",{staticClass:"yinsihao-baohu-img"},[r("img",{attrs:{src:"static/img/yinsihao_baohu.png",alt:""}})]):t._e()]),t._v(" "),r("div",{staticClass:"order-btn"},[0==t.order.is_pay&&t.order.status<5?[3==t.order.order_type&&"finishMeal"==t.order.pay_type?r("div",{staticClass:"table-cell van-hairline--top van-hairline--right",on:{click:t.onFinishMealPay}},[t._v("پۇل تۆلەش")]):r("router-link",{staticClass:"table-cell van-hairline--top van-hairline--right",attrs:{to:t.util.getUrl({path:"/pages/public/pay",query:{order_id:t.order.id,order_type:"takeout"}})}},[t._v("پۇل تۆلەش")]),t._v(" "),3==t.order.order_type?r("router-link",{staticClass:"table-cell van-hairline--top van-hairline--right",attrs:{to:t.util.getUrl({path:"/tangshi/pages/table/goods",query:{order_id:t.order.id,table_id:t.order.table_id,sid:t.order.sid}})}},[t._v("加菜")]):t._e(),t._v(" "),1==t.order.order_type&&1==t.order.update_order_info_status?r("router-link",{staticClass:"table-cell  van-hairline--top van-hairline--left",attrs:{to:t.util.getUrl({path:"/pages/order/op",query:{id:t.order.id}})}},[t._v("ئەسكەرتىش ئۇچۇرنى ئۆزگەرتىش")]):t._e()]:t._e(),t._v(" "),1==t.order.status?[r("div",{staticClass:"table-cell van-hairline--top",on:{click:function(e){return t.onChangeStatus(t.order.id,"cancel")}}},[t._v("بىكار قىلىش")]),t._v(" "),1==t.order.is_pay?r("div",{staticClass:"table-cell van-hairline--left van-hairline--top",on:{click:function(e){return t.onChangeStatus(t.order.id,"remind")}}},[t._v("ئالدىرتىش")]):t._e()]:t.order.status>1&&t.order.status<5?[t.order.customer_cancel_status?r("div",{staticClass:"table-cell  van-hairline--top",on:{click:function(e){return t.onChangeStatus(t.order.id,"cancel")}}},[t._v("بىكار قىلىش")]):t._e(),t._v(" "),1==t.order.order_type&&4==t.order.status?r("div",{staticClass:"table-cell  van-hairline--top",on:{click:function(e){return t.onChangeStatus(t.order.id,"end_1")}}},[t._v("确认送达")]):2==t.order.order_type?r("div",{staticClass:"table-cell van-hairline--top",on:{click:function(e){return t.onChangeStatus(t.order.id,"end_2")}}},[t._v("#"+t._s(t.order.serial_sn)+"-我已提货")]):t._e(),t._v(" "),1==t.order.is_pay?r("div",{staticClass:"table-cell van-hairline--left van-hairline--top",on:{click:function(e){return t.onChangeStatus(t.order.id,"remind")}}},[t._v("ئالدىرتىش")]):t._e(),t._v(" "),3==t.order.order_type&&1==t.order.is_pay&&"finishMeal"==t.order.pay_type?r("router-link",{staticClass:"table-cell van-hairline--left van-hairline--top",attrs:{to:t.util.getUrl({path:"/tangshi/pages/table/goods",query:{order_id:t.order.id,table_id:t.order.table_id,sid:t.order.sid}})}},[t._v("加菜")]):t._e()]:5==t.order.status?[r("router-link",{staticClass:"table-cell  van-hairline--top",attrs:{to:t.util.getUrl({path:"/pages/store/goods",query:{sid:t.order.sid,order_id:t.order.id}})}},[t._v("يەنە زاكاس قىلاي")]),t._v(" "),0==t.order.is_comment?r("router-link",{staticClass:"table-cell  van-hairline--top van-hairline--left",attrs:{to:t.util.getUrl({path:"/pages/order/comment",query:{id:t.order.id}})}},[t._v(t._s(t.order.comment_cn))]):t._e(),t._v(" "),t._e()]:6==t.order.status?[r("router-link",{staticClass:"table-cell  van-hairline--top",attrs:{to:t.util.getUrl({path:"/pages/store/goods",query:{sid:t.order.sid,order_id:t.order.id}})}},[t._v("يەنە زاكاس قىلاي")])]:t._e(),t._v(" "),1==t.order.update_address_status?[r("router-link",{staticClass:"table-cell  van-hairline--top van-hairline--left",attrs:{to:t.util.getUrl({path:"/pages/order/address",query:{id:t.order.id}})}},[t._v("ئادىرسنى ئۆزگەرتىش")])]:t._e(),t._v(" "),t.order.data&&t.order.data.pindan?[r("router-link",{staticClass:"table-cell  van-hairline--top van-hairline--left",attrs:{to:t.util.getUrl({path:"/pages/order/pindanbill",query:{id:t.order.id}})}},[t._v("拼单分账")])]:t._e(),t._v(" "),1==t.can_delete?r("div",{staticClass:"table-cell van-hairline--top van-hairline--left",on:{click:t.onDeleteOrder}},[t._v("زاكاسنى ئۆچۈرۈش")]):t._e(),t._v(" "),t.order.refund_status>0?r("router-link",{staticClass:"table-cell  van-hairline--top van-hairline--left",attrs:{to:t.util.getUrl({path:"/pages/order/refund",query:{id:t.order.id}})}},[t._v("قايتۇرۇش تەپسىلاتى")]):t._e()],2)]),t._v(" "),t.slides?r("div",{staticClass:"swiper-container"},[r("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"#ff2d4b"}},t._l(t.slides,function(e,a){return r("van-swipe-item",{key:a},[r("router-link",{attrs:{tag:"div",to:t.util.getUrl({path:"item.link"})}},[r("img",{attrs:{src:e.thumb}})])],1)}),1)],1):t._e(),t._v(" "),(t.order.deliveryer_id,t._e()),t._v(" "),r("div",{staticClass:"content-block-title"},[t._v("زاكاس تەپسىلاتى")]),t._v(" "),r("div",{staticClass:"order-details"},[r("div",{staticClass:"order-details-con border-1px-t "},[r("div",{staticClass:"store-info"},[r("router-link",{staticClass:"external",attrs:{tag:"div",to:t.util.getUrl({path:"/pages/store/goods",query:{sid:this.store.id}})}},[r("img",{attrs:{src:t.store.logo,alt:""}}),t._v(" "),r("span",{staticClass:"store-title"},[t._v(t._s(t.store.title))]),t._v(" "),r("span",{staticClass:"icon icon-arrow-right"})]),t._v(" "),r("div",{staticClass:"store-tel",on:{click:function(e){return t.onCallStoreOrDeliveryer("store")}}},[r("span",{staticClass:"icon icon-telephone icon-telephone-circle"})])],1),t._v(" "),r("div",{staticClass:"inner-con border-1px-t"},t._l(t.goods,function(e,a){return r("van-row",{key:a,staticClass:"no-gutter"},[r("van-col",{attrs:{span:"12"}},[t._v(t._s(e.goods_title))]),t._v(" "),r("van-col",{staticClass:"color-muted text-left ",attrs:{span:"4"}},[t._v("x"+t._s(e.goods_num))]),t._v(" "),r("van-col",{staticClass:"text-left",attrs:{span:"8"}},[t._v(t._s(t.Lang.dollarSign)+t._s(e.goods_price))])],1)}),1),t._v(" "),r("div",{staticClass:"inner-con border-1px-t"},[t.order.box_price>0?r("van-row",{staticClass:"no-gutter"},[r("van-col",{attrs:{span:"20"}},[t._v(t._s(3==t.order.order_type?"قاچا ھەققى":t.store.cn.box_price))]),t._v(" "),r("van-col",{staticClass:"text-left",attrs:{span:"4"}},[t._v(t._s(t.Lang.dollarSign)+t._s(t.order.box_price))])],1):t._e(),t._v(" "),r("van-row",{staticClass:"no-gutter"},[r("van-col",{attrs:{span:"20"}},[t._v(t._s(t.store.cn.pack_fee))]),t._v(" "),r("van-col",{staticClass:"text-left",attrs:{span:"4"}},[t._v(t._s(t.Lang.dollarSign)+t._s(t.order.pack_fee))])],1),t._v(" "),t.order.person_num>0?r("van-row",{staticClass:"no-gutter"},[r("van-col",{attrs:{span:"20"}},[t._v("餐具数量")]),t._v(" "),r("van-col",{staticClass:"text-left",attrs:{span:"4"}},[t._v(t._s(t.order.person_num)+" كىشىلىك ")])],1):t._e(),t._v(" "),r("van-row",{staticClass:"no-gutter"},[r("van-col",{attrs:{span:"20"}},[t._v("يەتكۈزۈش ھەققى")]),t._v(" "),r("van-col",{staticClass:"text-left",attrs:{span:"4"}},[t._v(t._s(t.Lang.dollarSign)+t._s(t.order.delivery_fee))])],1),t._v(" "),3==t.order.order_type?r("van-row",{staticClass:"no-gutter"},[r("van-col",{attrs:{span:"20"}},[t._v("مۇلازىمەت ھەققى")]),t._v(" "),r("van-col",{staticClass:"text-left",attrs:{span:"4"}},[t._v(t._s(t.Lang.dollarSign)+t._s(t.order.serve_fee))])],1):t._e(),t._v(" "),t.order.data?t._l(t.order.data.extra_fee,function(e,a){return t.order.data.extra_fee.length>0?r("van-row",{key:a,staticClass:"no-gutter"},[r("van-col",{attrs:{span:"16"}},[t._v(t._s(e.name))]),t._v(" "),r("van-col",{staticClass:" text-left ",attrs:{span:"8"}},[t._v(t._s(t.Lang.dollarSign)+t._s(e.fee))])],1):t._e()}):t._e()],2),t._v(" "),t.activityed.length>0?r("div",{staticClass:"inner-con border-1px-t"},t._l(t.activityed,function(e,a){return r("van-row",{key:a,staticClass:"no-gutter"},[r("van-col",{staticClass:"icon-before",attrs:{span:"12"}},[r("img",{attrs:{src:"static/img/"+e.type+"_b.png",alt:""}}),t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),r("van-col",{staticClass:"text-left discount-note",attrs:{span:"12"}},[t._v(t._s(e.note))])],1)}),1):t._e(),t._v(" "),r("div",{staticClass:"inner-con"},[r("van-row",{staticClass:"no-gutter"},[r("van-col",{attrs:{span:"14"}},[r("span",{staticClass:"color-muted"},[t._v("زاكاس")]),t._v(" "+t._s(t.Lang.dollarSign)+t._s(t.order.total_fee)+" "),r("span",{staticClass:"color-muted"},[t._v(" - ئېتىبار")]),t._v(" "+t._s(t.Lang.dollarSign)+t._s(t.order.discount_fee)+"\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),r("van-col",{staticClass:"text-left color-muted",attrs:{span:"5"}},[t._v("جەمىئي")]),t._v(" "),r("van-col",{staticClass:"text-left",attrs:{span:"5"}},[t._v(t._s(t.Lang.dollarSign)+t._s(t.order.final_fee))])],1)],1),t._v(" "),(t.order.order_type,t._e())]),t._v(" "),r("div",{staticClass:"flex-lr font-14 bg-default border-1px-t"},[t.order.kefu&&1==t.order.kefu.store_status?r("router-link",{staticClass:"border-1px-l padding-15-tb flex-center flex-1",attrs:{tag:"div",to:t.util.getUrl({path:"/plugin/pages/kefu/chat",query:{relation:"member2clerk",kefuopenid:t.order.sid,kefuunionid:t.order.sid,orderid:t.order.id}})}},[r("i",{staticClass:"icon icon-wang margin-5-l"}),t._v(" "),r("span",[t._v("سودىگەرگە ئۇچۇر قىلىش")])]):t._e(),t._v(" "),r("div",{staticClass:"padding-15-tb flex-center flex-1",on:{click:function(e){return t.onCallStoreOrDeliveryer("store")}}},[r("i",{staticClass:"icon icon-telephone margin-5-l"}),t._v(" "),r("span",[t._v("سودىگەر بىلەن ئالاقلىشش")])])],1)]),t._v(" "),2==t.order.order_type?[r("div",{staticClass:"content-block-title"},[t._v("订单核销")]),t._v(" "),r("div",{staticClass:"cancel-code border-1px-t"},[r("div",[r("div",{staticClass:"qrcode",attrs:{id:"qrcode"}}),t._v(" "),r("p",{staticClass:"text-center font-12 margin-10-t"},[t._v("核销码: "+t._s(t.order.code))])]),t._v(" "),r("p",{staticClass:"code-text"},[t._v("请商家扫描二维码或者填写核销码即可消费")])])]:t._e(),t._v(" "),t.order.order_type<=2?[r("div",{staticClass:"content-block-title"},[t._v("يەتكۈزۈش ئۇچۇرى")]),t._v(" "),r("div",{staticClass:"other-info"},[r("ul",{staticClass:"border-1px-tb"},[1==t.order.order_type&&t.order.deliveryer_id>0?[r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("يەتكۈزۈش مۇلازىمىتى")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.delivery_title))])])]),t._v(" "),r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("يەتكۈزگۈچى")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.deliveryer.title))])])])]:t._e(),t._v(" "),r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v(t._s(1==t.order.order_type?"يەتكۈزدىغان ۋاقىت":"ئىلىپ كىتىدىغان ۋاقىت"))]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.delivery_day)+"~"+t._s(t.order.delivery_time))])])]),t._v(" "),1==t.order.order_type?[r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("يەتكۈزدىغان ئادىرىس")]),t._v(" "),r("div",{staticClass:"item-after",staticStyle:{"line-height":"22px"}},[r("div",[t._v(t._s(t.order.username)+" ("+t._s(t.order.sex)+") "+t._s(t.order.mobile))]),t._v("  "+t._s(t.order.address))])])])]:2==t.order.order_type?[r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("ئىلىپ كىتىدىغان ئادىرىس")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.store.address))])])])]:t._e(),t._v(" "),t.order.zhunshibao_status>0?r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner flex-lr"},[r("div",{staticClass:"item-title"},[t._v("准时宝")]),t._v(" "),r("router-link",{staticClass:"item-after",attrs:{tag:"div",to:t.util.getUrl({path:"pages/order/zhunshibao",query:{id:t.order.id}})}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t准时宝详情\n\t\t\t\t\t\t\t\t\t\t\t"),r("div",{staticClass:"icon icon-right c-gray"})])],1)]):t._e()],2),t._v(" "),t.order.deliveryer_id>0?r("div",{staticClass:"flex-lr font-14 bg-default"},[t.order.kefu&&1==t.order.kefu.deliveryer_status&&3!=t.deliveryer.kefu_status?r("router-link",{staticClass:"border-1px-l padding-15-tb flex-center flex-1",attrs:{tag:"div",to:t.util.getUrl({path:"/plugin/pages/kefu/chat",query:{relation:"member2deliveryer",kefuopenid:t.deliveryer.token,orderid:t.order.id}})}},[r("i",{staticClass:"icon icon-wang margin-5-l"}),t._v(" "),r("span",[t._v("يەتكۈزگۈچىگە ئۇچۇر قىلىش")])]):t._e(),t._v(" "),r("div",{staticClass:"padding-15-tb flex-center flex-1",on:{click:function(e){return t.onCallStoreOrDeliveryer("deliveryer")}}},[r("i",{staticClass:"icon icon-telephone margin-5-l"}),t._v(" "),r("span",[t._v("يەتكۈزگۈچى بىلەن ئالاقلىشش")])])],1):t._e()])]:t._e(),t._v(" "),r("div",{staticClass:"content-block-title"},[t._v("باشقا ئۇچۇرلار")]),t._v(" "),r("div",{staticClass:"other-info"},[r("ul",{staticClass:"border-1px-tb"},[r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("سودىگەر زاكاس نۇمۇرى")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v("#"+t._s(t.order.serial_sn))])])]),t._v(" "),r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("سۇپا زاكاس نۇمۇرى")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.ordersn))])])]),t._v(" "),r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("يەتكۈزۈش ئۇسۇلى")]),t._v(" "),r("div",{staticClass:"item-after"},[1==t.order.order_type?[t._v("يەتكۈزۈش")]:2==t.order.order_type?[t._v("自提")]:3==t.order.order_type?[t._v("店内")]:4==t.order.order_type?[t._v("预定")]:t._e()],2)])]),t._v(" "),3==t.order.order_type?[r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("桌台号")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.table.title))])])]),t._v(" "),r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("来客人数")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.person_num>0?t.order.person_num:"نامەلۇم"))])])])]:t._e(),t._v(" "),4==t.order.order_type?[r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("预定时间")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.reserve_time))])])]),t._v(" "),r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("桌台类型")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.table_category.title))])])]),t._v(" "),t.order.table_id>0?r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("预定桌号")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.table.title))])])]):t._e(),t._v(" "),r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("预定类型")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.reserve_type_cn))])])]),t._v(" "),r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("来客人数")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.person_num>0?t.order.person_num:"نامەلۇم"))])])])]:t._e(),t._v(" "),r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("پۇل تۆلەش شەكلى")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.pay_type_cn))])])]),t._v(" "),r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("ئەسكەرتىش ئۇچۇرى")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.note?t.order.note:"يوق"))])])]),t._v(" "),t.order.invoice?[t.order.invoice.title?r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("发票抬头")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.invoice.title))])])]):t._e(),t._v(" "),t.order.invoice.recognition?r("li",{staticClass:"item-content flex"},[r("div",{staticClass:"item-inner border-1px-b flex-lr"},[r("div",{staticClass:"item-title"},[t._v("纳税人识别号")]),t._v(" "),r("div",{staticClass:"item-after"},[t._v(t._s(t.order.invoice.recognition))])])]):t._e()]:t._e()],2)])],2)]),t._v(" "),r("van-tab",{staticClass:"order-status",attrs:{title:"زاكاس ھالىتى"}},t._l(t.logs,function(e,a){return r("div",{key:a,staticClass:"order-status-item"},[r("div",{staticClass:"guide"},[t.maxid!=a?r("img",{attrs:{src:"static/img/order_status_service_grey.png",alt:""}}):r("img",{attrs:{src:"static/img/order_status_service.png",alt:""}})]),t._v(" "),r("div",{staticClass:"order-status-info"},[r("div",{staticClass:"arrow-left"}),t._v(" "),r("div",{staticClass:"flex-lr"},[t._v(t._s(e.title)),r("span",{staticClass:"time pull-right"},[t._v(t._s(e.addtime))])]),t._v(" "),e.note?r("div",{staticClass:"tips",domProps:{innerHTML:t._s(e.note)}}):t._e()])])}),0)],1)],1),t._v(" "),t.share.info.share_button>0?[r("div",{staticClass:"send-redpacket",on:{click:function(e){t.orderShare=!0}}},[t._m(0)]),t._v(" "),r("van-popup",{staticClass:"popup-send-redpacket padding-15-b",attrs:{overlay:!0},model:{value:t.orderShare,callback:function(e){t.orderShare=e},expression:"orderShare"}},[r("div",{staticClass:"popup-content grant-share"},[r("p",{staticClass:"font-20 grant-share-title margin-10-b"},[t._v("分享规则")]),t._v(" "),r("p",{staticClass:"font-15"},[t._v("1. 顾客在订单完成后"+t._s(t.share.share_grant_days_limit)+"天之内，对订单进行评价并分享到朋友圈即可获取"+t._s(t.share.share_grant)+t._s(t.share.grantType_cn))]),t._v(" "),r("p",{staticClass:"font-15 margin-10-t"},[t._v("2. 每人通过分享订单最多可获取"+t._s(t.share.share_grant_max)+t._s(t.share.grantType_cn)+"，超出后将不再奖励")])]),t._v(" "),r("div",{staticClass:"popup-footer"},[r("div",{staticClass:"grant-share-btn"},[1==t.share.info.share_button?r("router-link",{staticClass:"btn bg-danger",attrs:{tag:"div",to:t.util.getUrl({path:"pages/order/comment",query:{id:t.order.id}})}},[t._v("现在去评价")]):r("div",{staticClass:"btn bg-danger",on:{click:function(e){return t.onChangeZhezhao(!0)}}},[t._v("您已评价,去分享")])],1)])])]:t._e(),t._v(" "),1==t.share.info.superRedpacket_share_status?[r("div",{staticClass:"send-redpacket",on:{click:function(e){t.sendRedpacket=!0}}},[r("img",{attrs:{src:"static/img/send-redpacket.png",alt:""}})]),t._v(" "),r("van-popup",{staticClass:"popup-send-redpacket",attrs:{overlay:!0},model:{value:t.sendRedpacket,callback:function(e){t.sendRedpacket=e},expression:"sendRedpacket"}},[r("div",{staticClass:"popup-content border-1px-b"},[r("img",{attrs:{src:"static/img/wv.png",alt:""}}),t._v(" "),r("p",{staticClass:"font-15 font-bold"},[t._v("恭喜获得"+t._s(t.share.info.superRedpacket.packet_total)+"个红包")]),t._v(" "),r("p",{staticClass:"font-14 margin-10-t"},[t._v("分享给小伙伴，大家一起抢。")])]),t._v(" "),r("div",{staticClass:"popup-footer flex-lr"},[r("div",{staticClass:"cancle border-1px-r",on:{click:function(e){t.sendRedpacket=!1}}},[t._v("取消")]),t._v(" "),r("div",{staticClass:"grant",on:{click:function(e){return t.onChangeZhezhao(!0)}}},[t._v("发红包")])])])]:t._e(),t._v(" "),t.zhezhaoShow?r("div",{staticClass:"share-zhezhao",on:{click:function(e){return t.onChangeZhezhao()}}},[r("img",{attrs:{src:"static/img/share-layer.png",alt:""}})]):t._e(),t._v(" "),r("van-popup",{staticClass:"call-phone",model:{value:t.showSelectCall,callback:function(e){t.showSelectCall=e},expression:"showSelectCall"}},[r("div",{staticClass:"call-phone-header"},[t._v("请选择联系人")]),t._v(" "),r("div",{staticClass:"call-plateform",on:{click:function(e){return t.onSelectCall(t.config_mall.mobile)}}},[r("div",[t._v("联系平台(推荐)")])]),t._v(" "),r("div",{staticClass:"call-deliveryer van-hairline--top",on:{click:function(e){return t.onSelectCall(t.deliveryer.mobile)}}},[r("div",[t._v("联系配送员")])])]),t._v(" "),r("van-popup",{staticClass:"yinsihao-popup",model:{value:t.showYinsihao,callback:function(e){t.showYinsihao=e},expression:"showYinsihao"}},[r("div",{staticClass:"popup-title"},[r("img",{staticClass:"yinsihao-img",attrs:{src:"static/img/yinsihao_bg.png",alt:""}})]),t._v(" "),r("div",{staticClass:"popup-container van-hairline--bottom"},[r("div",{staticClass:"font-14"},[t._v("将通过转播的方式保护您的隐私")]),t._v(" "),r("div",{staticClass:"yinsihao-mobile"},[t._v(t._s(t.yinsihao.secret_mobile)+" 转 "),r("span",{staticClass:"c-danger"},[t._v(t._s(t.yinsihao.extension))])]),t._v(" "),r("div",{staticClass:"yinsihao-tips"},[t._v("拨打"+t._s(t.yinsihao.secret_mobile)),r("br"),t._v("接通后输入分机号"+t._s(t.yinsihao.extension)+"#即可")])]),t._v(" "),r("div",{staticClass:"popup-footer"},[r("div",{staticClass:"yinsihao-cancel",on:{click:function(e){t.showYinsihao=!1}}},[t._v("取消")]),t._v(" "),r("div",{staticClass:"yinsihao-confirm van-hairline--left",on:{click:function(e){t.util.jsTel(t.yinsihao.secret_mobile),t.showYinsihao=!1}}},[t._v("立即呼叫")])])]),t._v(" "),r("van-popup",{staticClass:"yinsihao-popup",model:{value:t.servicePopupStatus,callback:function(e){t.servicePopupStatus=e},expression:"servicePopupStatus"}},[r("div",{staticClass:"popup-title font-500"},[t._v("\n\t\t\t订单已不能使用隐私号联系\n\t\t")]),t._v(" "),r("div",{staticClass:"popup-container padding-15-b van-hairline--bottom"},[t._v("\n\t\t\t为您联系客服\n\t\t")]),t._v(" "),r("div",{staticClass:"popup-footer"},[r("div",{staticClass:"yinsihao-cancel",on:{click:function(e){t.servicePopupStatus=!1}}},[t._v("取消")]),t._v(" "),r("div",{staticClass:"yinsihao-confirm van-hairline--left",on:{click:function(e){t.util.jsTel(t.config_mall.mobile),t.servicePopupStatus=!1}}},[t._v("继续呼叫")])])])],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"share-inner"},[e("div",{staticClass:"icon icon-share"})])}]};var g=r("VU/8")(p,m,!1,function(t){r("Dq1y")},null,null);e.default=g.exports},MJLE:function(t,e,r){var a,i;i=function(){function t(t){this.mode=r.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,a=this.data.length;e<a;e++){var i=[],s=this.data.charCodeAt(e);s>65536?(i[0]=240|(1835008&s)>>>18,i[1]=128|(258048&s)>>>12,i[2]=128|(4032&s)>>>6,i[3]=128|63&s):s>2048?(i[0]=224|(61440&s)>>>12,i[1]=128|(4032&s)>>>6,i[2]=128|63&s):s>128?(i[0]=192|(1984&s)>>>6,i[1]=128|63&s):i[0]=s,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var r=new t(e);this.dataList.push(r),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[a][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,r),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var a=-1;a<=7;a++)e+a<=-1||this.moduleCount<=e+a||(this.modules[t+r][e+a]=0<=r&&r<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=a&&a<=4)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var a=h.getLostPoint(this);(0==r||t>a)&&(t=a,e=r)}return e},createMovieClip:function(t,e,r){var a=t.createEmptyMovieClip(e,r);this.make();for(var i=0;i<this.modules.length;i++)for(var s=1*i,o=0;o<this.modules[i].length;o++){var n=1*o;this.modules[i][o]&&(a.beginFill(0,100),a.moveTo(n,s),a.lineTo(n+1,s),a.lineTo(n+1,s+1),a.lineTo(n,s+1),a.endFill())}return a},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=h.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var a=t[e],i=t[r];if(null==this.modules[a][i])for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)this.modules[a+s][i+o]=-2==s||2==s||-2==o||2==o||0==s&&0==o}},setupTypeNumber:function(t){for(var e=h.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var a=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=a}for(r=0;r<18;r++){a=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=a}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,a=h.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&1==(a>>i&1);i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(i=0;i<15;i++){s=!t&&1==(a>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,a=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var n=0;n<2;n++)if(null==this.modules[a][o-n]){var l=!1;s<t.length&&(l=1==(t[s]>>>i&1)),h.getMask(e,a,o-n)&&(l=!l),this.modules[a][o-n]=l,-1==--i&&(s++,i=7)}if((a+=r)<0||this.moduleCount<=a){a-=r,r=-r;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,r,a){for(var i=g.getRSBlocks(t,r),s=new f,o=0;o<a.length;o++){var n=a[o];s.put(n.mode,4),s.put(n.getLength(),h.getLengthInBits(n.mode,t)),n.write(s)}var l=0;for(o=0;o<i.length;o++)l+=i[o].dataCount;if(s.getLengthInBits()>8*l)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*l+")");for(s.getLengthInBits()+4<=8*l&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*l||(s.put(e.PAD0,8),s.getLengthInBits()>=8*l));)s.put(e.PAD1,8);return e.createBytes(s,i)},e.createBytes=function(t,e){for(var r=0,a=0,i=0,s=new Array(e.length),o=new Array(e.length),n=0;n<e.length;n++){var l=e[n].dataCount,d=e[n].totalCount-l;a=Math.max(a,l),i=Math.max(i,d),s[n]=new Array(l);for(var c=0;c<s[n].length;c++)s[n][c]=255&t.buffer[c+r];r+=l;var v=h.getErrorCorrectPolynomial(d),_=new m(s[n],v.getLength()-1).mod(v);o[n]=new Array(v.getLength()-1);for(c=0;c<o[n].length;c++){var u=c+_.getLength()-o[n].length;o[n][c]=u>=0?_.get(u):0}}var p=0;for(c=0;c<e.length;c++)p+=e[c].totalCount;var g=new Array(p),f=0;for(c=0;c<a;c++)for(n=0;n<e.length;n++)c<s[n].length&&(g[f++]=s[n][c]);for(c=0;c<i;c++)for(n=0;n<e.length;n++)c<o[n].length&&(g[f++]=o[n][c]);return g};for(var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},s=0,o=1,n=2,l=3,d=4,c=5,v=6,_=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;h.getBCHDigit(e)-h.getBCHDigit(h.G15)>=0;)e^=h.G15<<h.getBCHDigit(e)-h.getBCHDigit(h.G15);return(t<<10|e)^h.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;h.getBCHDigit(e)-h.getBCHDigit(h.G18)>=0;)e^=h.G18<<h.getBCHDigit(e)-h.getBCHDigit(h.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return h.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case s:return(e+r)%2==0;case o:return e%2==0;case n:return r%3==0;case l:return(e+r)%3==0;case d:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case c:return e*r%2+e*r%3==0;case v:return(e*r%2+e*r%3)%2==0;case _:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new m([1],0),r=0;r<t;r++)e=e.multiply(new m([1,u.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,a=0;a<e;a++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(a,i),n=-1;n<=1;n++)if(!(a+n<0||e<=a+n))for(var l=-1;l<=1;l++)i+l<0||e<=i+l||0==n&&0==l||o==t.isDark(a+n,i+l)&&s++;s>5&&(r+=3+s-5)}for(a=0;a<e-1;a++)for(i=0;i<e-1;i++){var d=0;t.isDark(a,i)&&d++,t.isDark(a+1,i)&&d++,t.isDark(a,i+1)&&d++,t.isDark(a+1,i+1)&&d++,0!=d&&4!=d||(r+=3)}for(a=0;a<e;a++)for(i=0;i<e-6;i++)t.isDark(a,i)&&!t.isDark(a,i+1)&&t.isDark(a,i+2)&&t.isDark(a,i+3)&&t.isDark(a,i+4)&&!t.isDark(a,i+5)&&t.isDark(a,i+6)&&(r+=40);for(i=0;i<e;i++)for(a=0;a<e-6;a++)t.isDark(a,i)&&!t.isDark(a+1,i)&&t.isDark(a+2,i)&&t.isDark(a+3,i)&&t.isDark(a+4,i)&&!t.isDark(a+5,i)&&t.isDark(a+6,i)&&(r+=40);var c=0;for(i=0;i<e;i++)for(a=0;a<e;a++)t.isDark(a,i)&&c++;return r+=10*(Math.abs(100*c/e/e-50)/5)}},u={glog:function(t){if(t<1)throw new Error("glog("+t+")");return u.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return u.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},p=0;p<8;p++)u.EXP_TABLE[p]=1<<p;for(p=8;p<256;p++)u.EXP_TABLE[p]=u.EXP_TABLE[p-4]^u.EXP_TABLE[p-5]^u.EXP_TABLE[p-6]^u.EXP_TABLE[p-8];for(p=0;p<255;p++)u.LOG_TABLE[u.EXP_TABLE[p]]=p;function m(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var a=0;a<t.length-r;a++)this.num[a]=t[a+r]}function g(t,e){this.totalCount=t,this.dataCount=e}function f(){this.buffer=[],this.length=0}m.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var a=0;a<t.getLength();a++)e[r+a]^=u.gexp(u.glog(this.get(r))+u.glog(t.get(a)));return new m(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=u.glog(this.get(0))-u.glog(t.get(0)),r=new Array(this.getLength()),a=0;a<this.getLength();a++)r[a]=this.get(a);for(a=0;a<t.getLength();a++)r[a]^=u.gexp(u.glog(t.get(a))+e);return new m(r,0).mod(t)}},g.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],g.getRSBlocks=function(t,e){var r=g.getRsBlockTable(t,e);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var a=r.length/3,i=[],s=0;s<a;s++)for(var o=r[3*s+0],n=r[3*s+1],l=r[3*s+2],d=0;d<o;d++)i.push(new g(n,l));return i},g.getRsBlockTable=function(t,e){switch(e){case i.L:return g.RS_BLOCK_TABLE[4*(t-1)+0];case i.M:return g.RS_BLOCK_TABLE[4*(t-1)+1];case i.Q:return g.RS_BLOCK_TABLE[4*(t-1)+2];case i.H:return g.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},f.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var C=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function y(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var r=e.toString().match(/android ([0-9]\.[0-9])/i);r&&r[1]&&(t=parseFloat(r[1]))}return t}var b=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){var e=this._htOption,r=this._el,a=t.getModuleCount();Math.floor(e.width/a),Math.floor(e.height/a);function i(t,e){var r=document.createElementNS("http://www.w3.org/2000/svg",t);for(var a in e)e.hasOwnProperty(a)&&r.setAttribute(a,e[a]);return r}this.clear();var s=i("svg",{viewBox:"0 0 "+String(a)+" "+String(a),width:"100%",height:"100%",fill:e.colorLight});s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),r.appendChild(s),s.appendChild(i("rect",{fill:e.colorLight,width:"100%",height:"100%"})),s.appendChild(i("rect",{fill:e.colorDark,width:"1",height:"1",id:"template"}));for(var o=0;o<a;o++)for(var n=0;n<a;n++)if(t.isDark(o,n)){var l=i("use",{x:String(n),y:String(o)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),s.appendChild(l)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),w="svg"===document.documentElement.tagName.toLowerCase()?b:"undefined"==typeof CanvasRenderingContext2D?function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,r=this._el,a=t.getModuleCount(),i=Math.floor(e.width/a),s=Math.floor(e.height/a),o=['<table style="border:0;border-collapse:collapse;">'],n=0;n<a;n++){o.push("<tr>");for(var l=0;l<a;l++)o.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+i+"px;height:"+s+"px;background-color:"+(t.isDark(n,l)?e.colorDark:e.colorLight)+';"></td>');o.push("</tr>")}o.push("</table>"),r.innerHTML=o.join("");var d=r.childNodes[0],c=(e.width-d.offsetWidth)/2,v=(e.height-d.offsetHeight)/2;c>0&&v>0&&(d.style.margin=v+"px "+c+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}():function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var e=1/window.devicePixelRatio,r=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,a,i,s,o,n,l,d,c){if("nodeName"in t&&/img/i.test(t.nodeName))for(var v=arguments.length-1;v>=1;v--)arguments[v]=arguments[v]*e;else void 0===d&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);r.apply(this,arguments)}}var a=function(t,e){this._bIsPainted=!1,this._android=y(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return a.prototype.draw=function(t){var e=this._elImage,r=this._oContext,a=this._htOption,i=t.getModuleCount(),s=a.width/i,o=a.height/i,n=Math.round(s),l=Math.round(o);e.style.display="none",this.clear();for(var d=0;d<i;d++)for(var c=0;c<i;c++){var v=t.isDark(d,c),_=c*s,h=d*o;r.strokeStyle=v?a.colorDark:a.colorLight,r.lineWidth=1,r.fillStyle=v?a.colorDark:a.colorLight,r.fillRect(_,h,s,o),r.strokeRect(Math.floor(_)+.5,Math.floor(h)+.5,n,l),r.strokeRect(Math.ceil(_)-.5,Math.ceil(h)-.5,n,l)}this._bIsPainted=!0},a.prototype.makeImage=function(){this._bIsPainted&&function(t,e){var r=this;if(r._fFail=e,r._fSuccess=t,null===r._bSupportDataURI){var a=document.createElement("img"),i=function(){r._bSupportDataURI=!1,r._fFail&&r._fFail.call(r)};return a.onabort=i,a.onerror=i,a.onload=function(){r._bSupportDataURI=!0,r._fSuccess&&r._fSuccess.call(r)},void(a.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===r._bSupportDataURI&&r._fSuccess?r._fSuccess.call(r):!1===r._bSupportDataURI&&r._fFail&&r._fFail.call(r)}.call(this,t)},a.prototype.isPainted=function(){return this._bIsPainted},a.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},a.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},a}();function x(t,e){for(var r=1,a=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}(t),s=0,o=C.length;s<=o;s++){var n=0;switch(e){case i.L:n=C[s][0];break;case i.M:n=C[s][1];break;case i.Q:n=C[s][2];break;case i.H:n=C[s][3]}if(a<=n)break;r++}if(r>C.length)throw new Error("Too long data");return r}return(a=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:i.H},"string"==typeof e&&(e={text:e}),e)for(var r in e)this._htOption[r]=e[r];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(w=b),this._android=y(),this._el=t,this._oQRCode=null,this._oDrawing=new w(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(t){this._oQRCode=new e(x(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},a.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},a.prototype.clear=function(){this._oDrawing.clear()},a.CorrectLevel=i,a},t.exports=i()}});
//# sourceMappingURL=10.98c3e2073b07f80d52cd.js.map